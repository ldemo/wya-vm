(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{"./node_modules/css-loader/dist/cjs.js!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/src/index.js?!./node_modules/sass-loader/dist/cjs.js!./node_modules/sass-resources-loader/lib/loader.js?!./node_modules/vue-loader/lib/index.js?!./node_modules/@wya/vc-loader/src/loader.js?!./src/pages/components/home/sortable/modules/area/popup/paint.vue?vue&type=style&index=0&lang=scss&":function(e,t,s){(e.exports=s("./node_modules/css-loader/dist/runtime/api.js")(!1)).push([e.i,'.vm-basic-area-paint__content{width:100%;padding-left:8px}.vm-basic-area-paint__operation{padding-left:8px;padding-bottom:8px;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;-webkit-box-align:end;-webkit-align-items:flex-end;-ms-flex-align:end;align-items:flex-end;position:relative;-webkit-transform:translateZ(0);transform:translateZ(0)}.vm-basic-area-paint__operation:after,.vm-basic-area-paint__operation:before{position:absolute;content:" ";display:block;clear:both;-webkit-box-sizing:border-box;box-sizing:border-box;pointer-events:none;z-index:1;border-radius:inherit}.vm-basic-area-paint__operation:after{border-bottom:1px solid #d9d9d9;left:0;bottom:0;width:100%;-webkit-transform-origin:0 bottom;-ms-transform-origin:0 bottom;transform-origin:0 bottom}@media (-webkit-min-device-pixel-ratio:2),(min-resolution:2dppx){.vm-basic-area-paint__operation:after{width:200%;-webkit-transform:scale(.5);-ms-transform:scale(.5);transform:scale(.5)}}@media (-webkit-min-device-pixel-ratio:3),(min-resolution:3dppx){.vm-basic-area-paint__operation:after{width:300%;-webkit-transform:scale(.333);-ms-transform:scale(.333);transform:scale(.333)}}.vm-basic-area-paint__list{padding-top:15px}.vm-basic-area-paint__item{width:100%;padding:10px 8px;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-align:start;-webkit-align-items:flex-start;-ms-flex-align:start;align-items:flex-start;border:1px dashed #e8e8e8;margin-bottom:15px;position:relative}.vm-basic-area-paint__close{position:absolute;right:-8px;top:-8px;font-size:16px;cursor:pointer;color:#999}',""])},"./node_modules/css-loader/dist/cjs.js!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/src/index.js?!./node_modules/sass-loader/dist/cjs.js!./node_modules/sass-resources-loader/lib/loader.js?!./node_modules/vue-loader/lib/index.js?!./node_modules/@wya/vc-loader/src/loader.js?!./src/pages/components/home/sortable/modules/area/viewer.vue?vue&type=style&index=0&lang=scss&":function(e,t,s){(e.exports=s("./node_modules/css-loader/dist/runtime/api.js")(!1)).push([e.i,".vm-basic-area-viewer{position:relative;z-index:0;background:#fff}.vm-basic-area-viewer__item{display:inline-block;position:absolute}",""])},"./node_modules/vue-style-loader/index.js!./node_modules/css-loader/dist/cjs.js!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/src/index.js?!./node_modules/sass-loader/dist/cjs.js!./node_modules/sass-resources-loader/lib/loader.js?!./node_modules/vue-loader/lib/index.js?!./node_modules/@wya/vc-loader/src/loader.js?!./src/pages/components/home/sortable/modules/area/popup/paint.vue?vue&type=style&index=0&lang=scss&":function(e,t,s){var a=s("./node_modules/css-loader/dist/cjs.js!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/src/index.js?!./node_modules/sass-loader/dist/cjs.js!./node_modules/sass-resources-loader/lib/loader.js?!./node_modules/vue-loader/lib/index.js?!./node_modules/@wya/vc-loader/src/loader.js?!./src/pages/components/home/sortable/modules/area/popup/paint.vue?vue&type=style&index=0&lang=scss&");"string"==typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);(0,s("./node_modules/vue-style-loader/lib/addStylesClient.js").default)("3ae2bdc0",a,!0,{})},"./node_modules/vue-style-loader/index.js!./node_modules/css-loader/dist/cjs.js!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/src/index.js?!./node_modules/sass-loader/dist/cjs.js!./node_modules/sass-resources-loader/lib/loader.js?!./node_modules/vue-loader/lib/index.js?!./node_modules/@wya/vc-loader/src/loader.js?!./src/pages/components/home/sortable/modules/area/viewer.vue?vue&type=style&index=0&lang=scss&":function(e,t,s){var a=s("./node_modules/css-loader/dist/cjs.js!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/src/index.js?!./node_modules/sass-loader/dist/cjs.js!./node_modules/sass-resources-loader/lib/loader.js?!./node_modules/vue-loader/lib/index.js?!./node_modules/@wya/vc-loader/src/loader.js?!./src/pages/components/home/sortable/modules/area/viewer.vue?vue&type=style&index=0&lang=scss&");"string"==typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);(0,s("./node_modules/vue-style-loader/lib/addStylesClient.js").default)("3eda52a8",a,!0,{})},"./src/pages/components/home/sortable/modules/area/popup/paint.vue?vue&type=style&index=0&lang=scss&":function(e,t,s){"use strict";var a=s("./node_modules/vue-style-loader/index.js!./node_modules/css-loader/dist/cjs.js!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/src/index.js?!./node_modules/sass-loader/dist/cjs.js!./node_modules/sass-resources-loader/lib/loader.js?!./node_modules/vue-loader/lib/index.js?!./node_modules/@wya/vc-loader/src/loader.js?!./src/pages/components/home/sortable/modules/area/popup/paint.vue?vue&type=style&index=0&lang=scss&");s.n(a).a},"./src/pages/components/home/sortable/modules/area/viewer.vue?vue&type=style&index=0&lang=scss&":function(e,t,s){"use strict";var a=s("./node_modules/vue-style-loader/index.js!./node_modules/css-loader/dist/cjs.js!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/src/index.js?!./node_modules/sass-loader/dist/cjs.js!./node_modules/sass-resources-loader/lib/loader.js?!./node_modules/vue-loader/lib/index.js?!./node_modules/@wya/vc-loader/src/loader.js?!./src/pages/components/home/sortable/modules/area/viewer.vue?vue&type=style&index=0&lang=scss&");s.n(a).a},"./src/pages/containers/home/modules/home-sortable.vue":function(e,t,s){"use strict";s.r(t);var a=s("./node_modules/@wya/vc/lib/message/index.js"),n=s.n(a),o=s("./src/libs/vm.min.js"),r={name:"vm-tpl-viewer",components:{},props:{vm:{type:Object,default:function(){return{}}},id:String,name:[Number,String]},data:function(){return{}},computed:{},created:function(){},methods:{}},i=s("./node_modules/vue-loader/lib/runtime/componentNormalizer.js"),l=Object(i.a)(r,(function(){var e=this.$createElement;return(this._self._c||e)("div",[this._v("\n\tName: "+this._s(this.name)+"\n")])}),[],!1,null,null,null).exports;function d(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,a)}return s}function c(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}var u={name:"vm-tpl-editor",components:{},inheritAttrs:!1,props:{},data:function(){return function(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?d(s,!0).forEach((function(t){c(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):d(s).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}({},this.$attrs)},computed:{},created:function(){},methods:{handleChange:function(e,t){this.$emit("change",c({},t,e.target.value))},handleClick:function(){this.$emit("change",{x:this.x+1})}}},m=Object(i.a)(u,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticStyle:{display:"flex","flex-direction":"column"}},[s("div",[e._v("name: "),s("input",{domProps:{value:e.name},on:{input:function(t){return e.handleChange(t,"name")}}})])])}),[],!1,null,null,null).exports,p=0,v={module:"tpl",type:"基础组件",name:"单个模版",Viewer:l,Editor:m,data:function(){return{closeable:!0,name:"名称_".concat(p++)}},dataValidity:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e.name?null:{error:"输入框内容必填"}}},b={name:"vm-array-viewer",components:{},props:{vm:{type:Object,default:function(){return{}}},id:String,name:[Number,String],list:Array},data:function(){return{}},computed:{},created:function(){},methods:{}},f=Object(i.a)(b,(function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticStyle:{height:"200px"}},[t("div",[this._v("\n\t\tName: "+this._s(this.name)+"\n\t")]),this._v(" "),t("div",[this._v("\n\t\tlist: "+this._s(this.list)+"\n\t")])])}),[],!1,null,null,null).exports;var h={name:"vm-array-editor",components:{},inheritAttrs:!1,data:function(){return{}},computed:{},created:function(){},methods:{handleChange:function(e,t){this.$emit("change",function(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}({},t,e.target.value))},handleClick:function(){var e=this.$attrs.list.slice(0);e.push({value:e.length,label:e.length}),this.$emit("change",{list:e})}}},_=Object(i.a)(h,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticStyle:{display:"flex","flex-direction":"column"}},[s("div",[s("span",[e._v("Name: ")]),e._v(" "),s("input",{domProps:{value:e.$attrs.name},on:{input:function(t){return e.handleChange(t,"name")}}})]),e._v(" "),s("div",{on:{click:e.handleClick}},[e._v("\n\t\t+ListItem\n\t")])])}),[],!1,null,null,null).exports,y=0,x={module:"array",type:"营销组件",name:"数组模版",widgets:[{render:function(e,t){return e("div",["一行两列"])}},{name:"一行两列",image:"https://avatars3.githubusercontent.com/u/34465004?s=200&v=4"}],Viewer:f,Editor:_,max:5,insertion:"first",data:function(e){return{closeable:!0,name:"名称".concat(e,"_").concat(y++),list:[],draggable:!0}},dataValidity:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e.name?null:{error:"输入框内容必填"}}},g={name:"vm-tpl-viewer",components:{},props:{id:String,name:[Number,String]},data:function(){return{}},computed:{},created:function(){},methods:{}},j={module:"setting",type:"页面设置",name:"页面设置",Widget:Object(i.a)(g,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{on:{click:function(t){return e.$emit("change",1)}}},[e._v("\n\tName: "+e._s(e.name)+"\n\t"),s("input",{attrs:{type:"text"}})])}),[],!1,null,null,null).exports},w=s("./src/pages/utils/utils.js"),k={name:"vm-basic-area-viewer",components:{},props:{src:String,list:Array,vm:{type:Object,default:function(){return{}}}},data:function(){return{}},computed:{formatterValue:function(){var e=w.Utils.cloneDeep(this.list),t="frame"===this.vm.type?375:this.$global.width;return e.map((function(e){return e.w=e.w/375*t,e.h=e.h/375*t,e.x=e.x/375*t,e.y=e.y/375*t,e}))}},methods:{}},O=(s("./src/pages/components/home/sortable/modules/area/viewer.vue?vue&type=style&index=0&lang=scss&"),Object(i.a)(k,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"vm-basic-area-viewer",style:{padding:e.src?"0px":"20px 0"}},[s("img",{staticClass:"vm-basic-area-viewer__bac",staticStyle:{width:"100%"},attrs:{src:e.src}}),e._v(" "),e._l(e.formatterValue,(function(t,a){return s("a",{key:a,staticClass:"vm-basic-area-viewer__item",style:[{height:t.h+"px",width:t.w+"px",left:t.x+"px",top:t.y+"px","z-index":""+t.z,border:"frame"===e.vm.type?"1px dashed #5495F6":"none"}],attrs:{to:t.path}},[s("div",{directives:[{name:"show",rawName:"v-show",value:"frame"===e.vm.type,expression:"vm.type === 'frame'"}]},[s("span",{staticStyle:{padding:"1px 4px",background:"#5495F6",color:"#fff","white-space":"nowrap"}},[e._v("\n\t\t\t\t热区"+e._s(a+1)+"\n\t\t\t")])])])}))],2)}),[],!1,null,null,null).exports),S=s("./node_modules/@wya/vc/lib/button/index.js"),C=s.n(S),$=s("./node_modules/lodash/lodash.js"),P=s("./node_modules/@wya/vc/lib/portal/index.js"),E=s.n(P),D=s("./node_modules/@wya/vc/lib/modal/index.js"),N=s.n(D),z=s("./node_modules/@wya/vc/lib/icon/index.js"),V=s.n(z),L=s("./node_modules/@wya/vc/lib/dropdown/index.js"),A=s.n(L),W={name:"vm-basic-area-paint-viewer",components:{},props:{id:String,x:Number,y:Number,z:Number,w:Number,h:Number,r:Number,index:Number},data:function(){return{}},computed:{},created:function(){},methods:{}},F={module:"paint",type:"基础组件",name:"图片热区",Viewer:Object(i.a)(W,(function(){var e=this.$createElement,t=this._self._c||e;return t("div",{style:[{height:this.h?this.h+"px":"auto",width:this.w?this.w+"px":"auto",color:"black"}]},[t("div",{staticStyle:{padding:"1px 0 0 1px"}},[t("span",{staticStyle:{padding:"1px 4px",background:"#5495F6",color:"#fff"}},[this._v("\n\t\t\t热区"+this._s(this.index+1)+"\n\t\t")])])])}),[],!1,null,null,null).exports,Editor:null,max:10,insertion:"",data:function(){return{x:0,y:0,w:100,h:100,r:0,z:1,rotatable:!1,active:!0,parent:!0,route:"",name:"",p_id:"",type:1}},widgets:null,dataValidity:function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0];return null}},T=Object(o.createVMDrags)({paint:F}).Combo,H={name:"vm-basic-area-paint",components:{"vc-modal":N.a,"vc-button":C.a,"vc-icon":V.a,"vc-dropdown":A.a,"vc-dropdown-menu":A.a.Menu,"vc-dropdown-item":A.a.Item,"vm-combo":T,"vm-widget":o.Widget},props:{src:String,data:Object,list:Array},data:function(){return{visible:!1,page:[{value:"1",label:"测试1"},{value:"2",label:"测试2"}],editorData:[]}},watch:{list:{immediate:!0,handler:function(e){var t=this;setTimeout((function(){t.editorData=e}),301)}}},mounted:function(){this.visible=!0},methods:{handleSelect:function(e,t){var s=this.page.find((function(t){return t.value==e}));t.route="/".concat(s.value),t.name="/".concat(s.label)},handleDelete:function(e){this.editorData.splice(e,1)},handleAdd:function(){this.$refs.combo.add("paint")},handleOk:function(){this.$emit("sure",this.editorData)},handleCancel:function(){this.$emit("close")}}},I=H,M=new E.a(H,{onBefore:function(e){return n.a.loading("数据处理中..."),new Promise((function(t){var s=new Image;s.src=e.src,s.onload=function(){n.a.destroy(),t({data:{frameW:500,frameH:500/s.naturalWidth*s.naturalHeight}})}}))}}),J=I,Z=(s("./src/pages/components/home/sortable/modules/area/popup/paint.vue?vue&type=style&index=0&lang=scss&"),Object(i.a)(J,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("vc-modal",{staticClass:"vm-basic-area-paint",attrs:{"mask-closable":!1,title:"绘制热区",size:"large"},on:{ok:e.handleOk,cancel:e.handleCancel},model:{value:e.visible,callback:function(t){e.visible=t},expression:"visible"}},[s("vc-button",{staticClass:"vm-hack-entry"},[e._v("\n\t\t测试：销毁editor\n\t")]),e._v(" "),s("vc-button",{staticClass:"vm-hack-entry vm-hack-editor"},[e._v("\n\t\t测试：无法销毁\n\t")]),e._v(" "),s("div",[s("br")]),e._v(" "),s("div",{staticStyle:{display:"flex","align-items":"flex-start"}},[s("vm-combo",{ref:"combo",attrs:{"frame-w":e.data.frameW,"frame-h":e.data.frameH,"show-widget":!1,"show-editor":!1,"show-lines":!1,"show-ruler":!1,"show-zoom-bar":!1,"show-thumbnail":!1,"frame-style":{"background-image":"url("+e.src+")","background-size":"100%"}},model:{value:e.editorData,callback:function(t){e.editorData=t},expression:"editorData"}}),e._v(" "),s("div",{staticClass:"vm-basic-area-paint__content"},[s("div",{staticClass:"vm-basic-area-paint__operation"},[s("vm-widget",{attrs:{module:"paint"}},[s("vc-button",{on:{click:e.handleAdd}},[e._v("\n\t\t\t\t\t\t添加热区\n\t\t\t\t\t")])],1),e._v(" "),s("span",{staticStyle:{"font-size":"12px",color:"#999"}},[e._v("最多10个")])],1),e._v(" "),s("div",{staticClass:"vm-basic-area-paint__list"},e._l(e.editorData,(function(t,a){return s("div",{key:a,staticClass:"vm-basic-area-paint__item"},[s("span",[e._v("热区"+e._s(a+1)+"：")]),e._v(" "),s("vc-icon",{staticClass:"vm-basic-area-paint__close",attrs:{type:"clear"},on:{click:function(t){return e.handleDelete(a)}}}),e._v(" "),s("div",[s("vc-dropdown",{attrs:{portal:!0,trigger:"click",placement:"right-bottom","portal-class-name":"vm-hack-editor"},on:{click:function(s){return e.handleSelect(s,t)}},scopedSlots:e._u([{key:"list",fn:function(){return[s("vc-dropdown-menu",e._l(e.page,(function(t,a){return s("vc-dropdown-item",{key:a,attrs:{name:t.value}},[e._v("\n\t\t\t\t\t\t\t\t\t\t"+e._s(t.label)+"\n\t\t\t\t\t\t\t\t\t")])})),1)]},proxy:!0}],null,!0)},[s("a",{attrs:{href:"javascript:void(0)"}},[s("span",{staticStyle:{color:"#5495F6",cursor:"pointer"}},[e._v("链接选择: "+e._s(t.name))])])])],1)],1)})),0)])],1)],1)}),[],!1,null,null,null).exports,{components:{"vc-button":C.a},name:"vm-basic-area-editor",inheritAttrs:!1,methods:{handleClick:function(){var e=this;M.popup({src:this.$attrs.src,list:this.positionTransform(this.$attrs.list,375,500)}).then((function(t){e.$emit("change",{list:e.positionTransform(t)})})).catch((function(e){console.log(e)}))},positionTransform:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:500,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:375;return Object($.cloneDeep)(e).map((function(e){return e.x=e.x/t*s,e.y=e.y/t*s,e.w=e.w/t*s,e.h=e.h/t*s,e}))}}}),B={tpl:v,array:x,setting:j,area:{module:"area",type:"基础组件",name:"图片热区",Viewer:O,Editor:Object(i.a)(Z,(function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"vm-basic-area-editor"},[t("div",{staticClass:"vm-basic-arer-editor__content",staticStyle:{"padding-top":"20px","padding-left":"10px"}},[t("vc-button",{attrs:{disabled:!this.$attrs.src,type:"primary"},on:{click:this.handleClick}},[this._v("\n\t\t\t绘制热区\n\t\t")])],1)])}),[],!1,null,null,null).exports,max:"",insertion:"",data:{closeable:!0,src:"https://oss.ruishan666.com/image/xcx/180313/942996157518/10053669,2880,1800.jpg",list:[]},dataValidity:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e.src?null:{error:"请上传图片"}}}},U=Object(o.createVMDrags)(B,{mode:"sortable"}),q=U.Combo,G=(U.Preview,{name:"tpl-links",components:{"vm-combo":q},data:function(){return{list:[{id:"vm-1566971480749-1",module:"tpl"}]}},computed:{},created:function(){},methods:{handleSave:function(e){console.log(e,this.list)},handleError:function(e){e.type;var t=e.msg;n.a.error(t)}}}),K={name:"vm-home-sortable",components:{"vm-content":Object(i.a)(G,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("vm-combo",{attrs:{"frame-w":375,"frame-h":606,"show-assist":""},on:{save:e.handleSave,error:e.handleError},model:{value:e.list,callback:function(t){e.list=t},expression:"list"}})],1)}),[],!1,null,"60b4ab61",null).exports},data:function(){return{}},created:function(){},methods:{}},Q=Object(i.a)(K,(function(){var e=this.$createElement,t=this._self._c||e;return t("set-title",{staticStyle:{padding:"20px"},attrs:{title:"home-sortable"}},[t("vm-content")],1)}),[],!1,null,"4d2a9005",null);t.default=Q.exports}}]);