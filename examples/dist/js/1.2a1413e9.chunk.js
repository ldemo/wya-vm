(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{"../build/vm.min.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,r=(i=n("../node_modules/vue/dist/vue.esm.js"))&&"object"==typeof i&&"default"in i?i.default:i;function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},i=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),i.forEach(function(t){o(e,t,n[t])})}return e}function A(e,t){if(null==e)return{};var n,i,r=function(e,t){if(null==e)return{};var n,i,r={},a=Object.keys(e);for(i=0;i<a.length;i++)n=a[i],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function d(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var l=function(){var e=!1;try{var t=Object.defineProperty({},"passive",{get:function(){e=!0}});window.addEventListener("test",null,t)}catch(e){console.log(e)}return e}(),u=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},c=function(e){return function e(t,n){for(var i in n)u(n,i)&&("object"==a(n[i])?(t[i]=Array.isArray(n[i])?[]:{},e(t[i],n[i])):t[i]=n[i]);return t}(Array.isArray(e)?[]:{},e)},m=+new Date,h=0,p=function(){return"vm-".concat(m,"-").concat(++h)},f=function(e,t){for(var n in t)if(t[n].test(e[n]))return!0;return!1},v=document.documentElement,g=[0,45,90,135,180,225,270,315,360],b={replace:!0,name:"vm-draggable",props:{disable:{type:Boolean,default:!1},handles:{type:Array,default:function(){return["top","right","bottom","left","top-left","top-right","bottom-right","bottom-left","rotate"]}},w:{type:Number,default:0,validator:function(e){return e>=0}},h:{type:Number,default:0,validator:function(e){return e>=0}},r:{type:Number,default:0},minw:{type:Number,default:36,validator:function(e){return e>0}},minh:{type:Number,default:36,validator:function(e){return e>0}},x:{type:Number,default:0},y:{type:Number,default:0},z:{type:Number,default:1},zoom:{type:Number,default:1},grid:{type:Array,default:function(){return[1,1]}},restrain:{type:Number,default:0},parent:{type:Boolean,default:!1},editable:{type:Array,default:function(){return["#vm-editor","#vm-tools-operation"]}},prevent:{type:Boolean,default:!0},preventRegExp:{type:Object,default:function(){return{tagName:/^(INPUT|TEXTAREA|BUTTON|SELECT|OPTION)$/}}}},data:function(){return{resizable:!1,draggable:!1,rotatable:!1,changing:!1,active:!1}},computed:{coord:function(){return{left:this.x+"px",top:this.y+"px",zIndex:this.z}},style:function(){return{width:0===this.w?"auto":"".concat(this.w,"px"),height:0===this.h?"auto":"".concat(this.h,"px"),transform:"rotate(".concat(this.r,"deg)")}},width:function(){var e=Math.floor(1.15*Math.sqrt(this.w*this.w+this.h*this.h));return"".concat(e,"px")}},watch:{},beforeCreate:function(){this.parentX=0,this.parentY=0,this.parentW=9999,this.parentH=9999,this.mouseX=0,this.mouseY=0,this.lastMouseX=0,this.lastMouseY=0,this.mouseOffX=0,this.mouseOffY=0,this.handle=null,this.eventOpts=!l||{capture:!0,passive:!0},this.beforeStatus=null},mounted:function(){this.w&&this.minw>this.w&&this.sync({w:this.minw}),this.h&&this.minh>this.h&&this.sync({h:this.minh});var e=this.$el.parentNode.getBoundingClientRect(),t=e.x,n=e.y;this.parentX=t,this.parentY=n,this.parent&&this.calculation(),this.$emit("resizing")},destroyed:function(){this.operateDOMEvents("remove")},methods:{calculation:function(){var e=this.$el.parentNode.getBoundingClientRect(),t=e.width,n=e.height;this.parentW=t,this.parentH=n,this.w>this.parentW&&this.sync({w:this.parentW}),this.h>this.parentH&&this.sync({h:this.parentH}),this.x+this.w>this.parentW&&this.sync({x:this.parentW-this.w}),this.y+this.h>this.parentH&&this.sync({y:this.parentH-this.h})},sync:function(e){for(var t in e)this[t]!=e[t]&&(!this.beforeStatus&&(this.beforeStatus={x:this.x,y:this.y,z:this.z,w:this.w,r:this.r}),this.$emit("update:".concat(t),e[t]))},operateDOMEvents:function(e){var t="add"===e?v.addEventListener:v.removeEventListener;t("mousedown",this.handleDeselect,this.eventOpts),t("mousemove",this.handleMove,this.eventOpts),t("mouseup",this.handleUp,this.eventOpts)},setActived:function(){this.handleContainerDown(),this.handleUp()},handleContainerDown:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this.prevent&&e.preventDefault&&!f(e.target,this.preventRegExp)&&e.preventDefault(),!this.disable){var t=e.target||e.srcElement;t&&!this.$el.contains(t)||(this.active||(this.lastMouseX=e.pageX||e.clientX+v.scrollLeft,this.lastMouseY=e.pageY||e.clientY+v.scrollTop,this.operateDOMEvents("add"),this.active=!0,this.$emit("activated")),this.draggable=!0)}},handleDeselect:function(e){this.mouseX=e.pageX||e.clientX+v.scrollLeft,this.mouseY=e.pageY||e.clientY+v.scrollTop,this.lastMouseX=this.mouseX,this.lastMouseY=this.mouseY;var t=e.target||e.srcElement,n=this.editable.filter(function(e){return document.querySelector(e)});this.$el.contains(t)||f(t,{className:/handle-([(top|right|-|bottom|left)]{2})/})||0!==n.length&&n.some(function(e){return document.querySelector(e).contains(t)})||this.active&&(this.operateDOMEvents("remove"),this.active=!1,this.$emit("deactivated"))},handleDown:function(e,t){this.prevent&&e.preventDefault&&!f(e.target,this.preventRegExp)&&e.preventDefault(),this.handle=t,"rotate"===t?this.rotatable=!0:this.resizable=!0,this.preMouseX=e.pageX||e.clientX+v.scrollLeft,this.preMouseY=e.pageY||e.clientY+v.scrollTop},handleMove:function(e){this.mouseX=e.pageX||e.clientX+v.scrollLeft,this.mouseY=e.pageY||e.clientY+v.scrollTop;var t=parseInt(this.x,10),n=parseInt(this.y,10),i=parseInt(this.w,10),r=parseInt(this.h,10),a=(this.mouseX-this.lastMouseX+this.mouseOffX)/this.zoom,o=(this.mouseY-this.lastMouseY+this.mouseOffY)/this.zoom;if(this.mouseOffX=0,this.mouseOffY=0,this.lastMouseX=this.mouseX,this.lastMouseY=this.mouseY,this.resizable)this.handle.includes("top")&&(r-o<this.minh?this.mouseOffY=o-(o=r-this.minh):this.parent&&n+o<0&&(this.mouseOffY=o-(o=-n)),n+=o,r-=o),this.handle.includes("bottom")&&(r+o<this.minh?this.mouseOffY=o-(o=this.minh-r):n+r+o>this.parentH&&(this.mouseOffY=o-(o=this.parentH-n-r)),r+=o),this.handle.includes("left")&&(i-a<this.minw?this.mouseOffX=a-(a=i-this.minw):this.parent&&t+a<0&&(this.mouseOffX=a-(a=-t)),t+=a,i-=a),this.handle.includes("right")&&(i+a<this.minw?this.mouseOffX=a-(a=this.minw-i):t+i+a>this.parentW&&(this.mouseOffX=a-(a=this.parentW-t-i)),i+=a),!this.disable&&this.sync({x:Math.round(t/this.grid[0])*this.grid[0],y:Math.round(n/this.grid[1])*this.grid[1],w:Math.round(i/this.grid[0])*this.grid[0],h:Math.round(r/this.grid[1])*this.grid[1]}),this.$emit("resizing");else if(this.rotatable){var s=this.getAngle([this.parentX+this.x+this.w/2,-(this.parentY+this.y+this.h/2)],[this.lastMouseX,-this.lastMouseY]),A=g.find(function(e){return Math.abs(e-s)<3});s="number"==typeof A?A:s,!this.disable&&this.sync({r:360===s?0:s}),this.$emit("rotating")}else this.draggable&&(this.parent&&(t+a<0?this.mouseOffX=a*this.zoom-(a=-t):t+i+a>this.parentW&&(this.mouseOffX=a*this.zoom-(a=this.parentW-t-i)),n+o<0?this.mouseOffY=o*this.zoom-(o=-n):n+r+o>this.parentH&&(this.mouseOffY=o*this.zoom-(o=this.parentH-n-r))),t+=a,n+=o,!this.disable&&this.sync({x:Math.round(t/this.grid[0])*this.grid[0],y:Math.round(n/this.grid[1])*this.grid[1]}),this.$emit("dragging"));!this.changing&&(this.rotatable||this.draggable||this.resizable)&&(this.changing=!0)},getAngle:function(e,t){var n=t[0]-e[0],i=t[1]-e[1],r=360*Math.atan2(i,n)/(2*Math.PI);return r=r>90?450-r:90-r,Math.floor(r)},getRestrain:function(e){var t=this.restrain;return(e/t).toFixed(0)*t},handleUp:function(e){this.changing=!1,this.handle=null;var t=this.restrain;t&&t>0&&this.sync({x:this.getRestrain(this.x),y:this.getRestrain(this.y),w:this.getRestrain(this.w),h:this.getRestrain(this.h)}),this.rotatable&&(this.rotatable=!1,this.$emit("rotate-end")),this.resizable&&(this.resizable=!1,this.$emit("resize-end")),this.draggable&&(this.draggable=!1,this.$emit("drag-end")),this.beforeStatus&&(this.$emit("end",this.beforeStatus),this.beforeStatus=null)}}},y=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"vm-draggable",style:e.coord,on:{mousedown:function(t){return t.stopPropagation(),e.handleContainerDown(t)}}},[n("div",{class:{"events-none":e.changing},style:e.style},[e._t("default")],2),e._v(" "),e.active&&e.handles&&0!==e.handles.length?n("div",{class:{disable:e.disable,active:e.active},style:e.style},[e._l(e.handles,function(t){return[e.disable?e._e():n("div",{key:t,staticClass:"handle",class:"handle-"+t,on:{mousedown:function(n){return"button"in n||!e._k(n.keyCode,"left",37,n.key,["Left","ArrowLeft"])?"button"in n&&0!==n.button?null:(n.stopPropagation(),void e.handleDown(n,t)):null}}})]}),e._v(" "),e.rotatable?n("div",{class:{"rotate-base-line":e.rotatable},style:{width:e.width}}):e._e()],2):e._e(),e._v(" "),e.rotatable?[n("div",{class:{"rotate-deg-0":e.rotatable},style:{width:e.width}}),e._v(" "),n("div",{class:{"rotate-deg-45":e.rotatable},style:{width:e.width}}),e._v(" "),n("div",{class:{"rotate-deg-90":e.rotatable},style:{width:e.width}}),e._v(" "),n("div",{class:{"rotate-deg-135":e.rotatable},style:{width:e.width}}),e._v(" "),n("div",{class:{"rotate-tip":e.rotatable}},[e._v(e._s(e.r)+" °")])]:e._e()],2)};y._withStripped=!0;var C=function(e,t,n,i,r,a,o,s){var A,d=("function"==typeof n?n.options:n)||{};if(d.__file="/Users/deot/Desktop/wya/github/wya-vm/src/core/draggable.vue",d.render||(d.render=e.render,d.staticRenderFns=e.staticRenderFns,d._compiled=!0,r&&(d.functional=!0)),d._scopeId=i,t&&(A=function(e){t.call(this,o(e))}),void 0!==A)if(d.functional){var l=d.render;d.render=function(e,t){return A.call(t),l(e,t)}}else{var u=d.beforeCreate;d.beforeCreate=u?[].concat(u,A):[A]}return d}({render:y,staticRenderFns:[]},function(e){e&&e("data-v-46df2364_0",{source:'\n@charset "UTF-8";\n.vm-draggable[data-v-46df2364] {\n  padding: 0;\n  position: absolute;\n  -webkit-box-sizing: border-box;\n          box-sizing: border-box;\n  -webkit-user-select: none;\n     -moz-user-select: none;\n      -ms-user-select: none;\n          user-select: none;\n}\n.vm-draggable[data-v-46df2364]:hover {\n    cursor: move;\n}\n.vm-draggable .events-none[data-v-46df2364] {\n    pointer-events: none;\n}\n.vm-draggable .active[data-v-46df2364] {\n    padding: 0;\n    top: 0;\n    left: 0;\n    right: 0;\n    bottom: 0;\n    position: absolute;\n    z-index: 2;\n    border: 1px dotted #108ee9;\n}\n.vm-draggable .active .handle[data-v-46df2364] {\n      display: block;\n}\n.vm-draggable .disable[data-v-46df2364] {\n    border: 1px dotted #e96101;\n}\n.vm-draggable .disable .handle-rotate[data-v-46df2364]:after {\n      background: #e96101;\n}\n.vm-draggable .disable .handle-rotate[data-v-46df2364]:before {\n      color: #e96101;\n}\n.vm-draggable .delete[data-v-46df2364] {\n    background: #108ee9;\n    position: absolute;\n    right: 0;\n    width: 20px;\n    color: white;\n    text-align: center;\n    z-index: 300;\n}\n.handle[data-v-46df2364] {\n  display: none;\n  position: absolute;\n  -webkit-box-sizing: border-box;\n          box-sizing: border-box;\n  z-index: 999;\n}\n.handle-left[data-v-46df2364] {\n  top: 0;\n  left: -5px;\n  cursor: ew-resize;\n  position: absolute;\n  height: 100%;\n  width: 5px;\n}\n.handle-left[data-v-46df2364]:hover {\n    background: -webkit-gradient(linear, left top, right top, from(rgba(255, 255, 255, 0)), to(#3F51B5));\n    background: linear-gradient(to right, rgba(255, 255, 255, 0), #3F51B5);\n}\n.handle-right[data-v-46df2364] {\n  top: 0;\n  right: -5px;\n  cursor: ew-resize;\n  position: absolute;\n  height: 100%;\n  width: 5px;\n}\n.handle-right[data-v-46df2364]:hover {\n    background: -webkit-gradient(linear, right top, left top, from(rgba(255, 255, 255, 0)), to(#3F51B5));\n    background: linear-gradient(to left, rgba(255, 255, 255, 0), #3F51B5);\n}\n.handle-top[data-v-46df2364] {\n  position: absolute;\n  width: 100%;\n  height: 5px;\n  top: -5px;\n  left: 0;\n  cursor: ns-resize;\n}\n.handle-top[data-v-46df2364]:hover {\n    background: -webkit-gradient(linear, left top, left bottom, from(rgba(255, 255, 255, 0)), to(#3F51B5));\n    background: linear-gradient(to bottom, rgba(255, 255, 255, 0), #3F51B5);\n}\n.handle-bottom[data-v-46df2364] {\n  position: absolute;\n  width: 100%;\n  height: 5px;\n  bottom: -5px;\n  left: 0;\n  cursor: ns-resize;\n}\n.handle-bottom[data-v-46df2364]:hover {\n    background: -webkit-gradient(linear, left bottom, left top, from(rgba(255, 255, 255, 0)), to(#3F51B5));\n    background: linear-gradient(to top, rgba(255, 255, 255, 0), #3F51B5);\n}\n.handle-top-left[data-v-46df2364] {\n  top: 0;\n  left: 0;\n  cursor: nwse-resize;\n  padding: 5px;\n}\n.handle-bottom-left[data-v-46df2364] {\n  bottom: 0;\n  left: 0;\n  cursor: nesw-resize;\n  padding: 5px;\n}\n.handle-top-right[data-v-46df2364] {\n  top: 0;\n  right: 0;\n  cursor: nesw-resize;\n  padding: 5px;\n}\n.handle-bottom-right[data-v-46df2364] {\n  bottom: 0;\n  right: 0;\n  cursor: nwse-resize;\n  padding: 5px;\n}\n.handle-rotate[data-v-46df2364] {\n  top: 0;\n  left: 50%;\n  -webkit-transform: translate(-50%, -100%);\n          transform: translate(-50%, -100%);\n  cursor: url(\'data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" style="font-size: 20px;"><text y="15">↻</text></svg>\') 10 10, default;\n  display: -webkit-box !important;\n  display: -ms-flexbox !important;\n  display: flex !important;\n  -webkit-box-orient: vertical;\n  -webkit-box-direction: normal;\n      -ms-flex-direction: column;\n          flex-direction: column;\n  -webkit-box-align: center;\n      -ms-flex-align: center;\n          align-items: center;\n  -webkit-box-pack: center;\n      -ms-flex-pack: center;\n          justify-content: center;\n}\n.handle-rotate[data-v-46df2364]:after {\n    content: \' \';\n    height: 10px;\n    width: 1px;\n    background: #108ee9;\n}\n.handle-rotate[data-v-46df2364]:before {\n    content: \'☐\';\n    -webkit-transform: translateY(26%);\n            transform: translateY(26%);\n    color: #108ee9;\n}\n\n/**\n * rotate\n */\n.rotate-base-line[data-v-46df2364] {\n  position: absolute;\n  left: 50%;\n  top: 50%;\n  z-index: 2;\n  width: 500px;\n  border: 1px solid #1fb6ff;\n  background-color: #1fb6ff;\n  -webkit-transform: translate(-50%, -50%) rotate(90deg);\n          transform: translate(-50%, -50%) rotate(90deg);\n}\ndiv[class^=rotate-deg-][data-v-46df2364] {\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  z-index: 2;\n  width: 500px;\n  border-top: 1px dashed #fff;\n  border-bottom: 1px dashed #262626;\n  opacity: .4;\n}\n.rotate-deg-0[data-v-46df2364] {\n  -webkit-transform: translate(-50%, -50%);\n          transform: translate(-50%, -50%);\n}\n.rotate-deg-45[data-v-46df2364] {\n  -webkit-transform: translate(-50%, -50%) rotate(45deg);\n          transform: translate(-50%, -50%) rotate(45deg);\n}\n.rotate-deg-90[data-v-46df2364] {\n  -webkit-transform: translate(-50%, -50%) rotate(90deg);\n          transform: translate(-50%, -50%) rotate(90deg);\n}\n.rotate-deg-135[data-v-46df2364] {\n  -webkit-transform: translate(-50%, -50%) rotate(135deg);\n          transform: translate(-50%, -50%) rotate(135deg);\n}\n.rotate-tip[data-v-46df2364] {\n  position: absolute;\n  top: -50px;\n  left: 60%;\n  width: 40px;\n  height: 16px;\n  line-height: 16px;\n  text-align: center;\n  border: 1px solid #262626;\n  border-radius: 8px;\n  background-color: #fff;\n}\n\n/*# sourceMappingURL=draggable.vue.map */',map:{version:3,sources:["draggable.vue","/Users/deot/Desktop/wya/github/wya-vm/src/core/draggable.vue"],names:[],mappings:";AAAA,iBAAiB;ACwejB;EACA,WAAA;EACA,mBAAA;EACA,+BAAA;UAAA,uBAAA;EACA,0BAAA;KAAA,uBAAA;MAAA,sBAAA;UAAA,kBAAA;CAyCA;AA7CA;IAMA,aAAA;CACA;AAPA;IASA,qBAAA;CACA;AAVA;IAYA,WAAA;IACA,OAAA;IACA,QAAA;IACA,SAAA;IACA,UAAA;IACA,mBAAA;IACA,WAAA;IACA,2BAAA;CAKA;AAxBA;MAsBA,eAAA;CACA;AAvBA;IA0BA,2BAAA;CASA;AAnCA;MA6BA,oBAAA;CACA;AA9BA;MAgCA,eAAA;CACA;AAjCA;IAqCA,oBAAA;IACA,mBAAA;IACA,SAAA;IACA,YAAA;IACA,aAAA;IACA,mBAAA;IACA,aACA;CAAA;AAGA;EACA,cAAA;EACA,mBAAA;EACA,+BAAA;UAAA,uBAAA;EACA,aAAA;CACA;AACA;EACA,OAAA;EACA,WAAA;EACA,kBAAA;EACA,mBAAA;EACA,aAAA;EACA,WAAA;CAIA;AAVA;IAQA,qGAAA;IAAA,uEAAA;CACA;AAEA;EACA,OAAA;EACA,YAAA;EACA,kBAAA;EACA,mBAAA;EACA,aAAA;EACA,WAAA;CAIA;AAVA;IAQA,qGAAA;IAAA,sEAAA;CACA;AAGA;EACA,mBAAA;EACA,YAAA;EACA,YAAA;EACA,UAAA;EACA,QAAA;EACA,kBAAA;CAIA;AAVA;IAQA,uGAAA;IAAA,wEAAA;CACA;AAEA;EACA,mBAAA;EACA,YAAA;EACA,YAAA;EACA,aAAA;EACA,QAAA;EACA,kBAAA;CAIA;AAVA;IAQA,uGAAA;IAAA,qEAAA;CACA;AAEA;EACA,OAAA;EACA,QAAA;EACA,oBAAA;EACA,aAAA;CACA;AACA;EACA,UAAA;EACA,QAAA;EACA,oBAAA;EACA,aAAA;CACA;AACA;EACA,OAAA;EACA,SAAA;EACA,oBAAA;EACA,aAAA;CACA;AACA;EACA,UAAA;EACA,SAAA;EACA,oBAAA;EACA,aAAA;CACA;AACA;EACA,OAAA;EACA,UAAA;EACA,0CAAA;UAAA,kCAAA;EACA,0KAEA;EACA,gCAAA;EAAA,gCAAA;EAAA,yBAAA;EACA,6BAAA;EAAA,8BAAA;MAAA,2BAAA;UAAA,uBAAA;EACA,0BAAA;MAAA,uBAAA;UAAA,oBAAA;EACA,yBAAA;MAAA,sBAAA;UAAA,wBAAA;CAYA;AAtBA;IAYA,aAAA;IACA,aAAA;IACA,WAAA;IACA,oBAAA;CACA;AAhBA;IAkBA,aAAA;IACA,mCAAA;YAAA,2BAAA;IACA,eAAA;CACA;;AAEA;;GAEA;AACA;EACA,mBAAA;EACA,UAAA;EACA,SAAA;EACA,WAAA;EACA,aAAA;EACA,0BAAA;EACA,0BAAA;EACA,uDAAA;UAAA,+CAAA;CACA;AACA;EACA,mBAAA;EACA,SAAA;EACA,UAAA;EACA,WAAA;EACA,aAAA;EACA,4BAAA;EACA,kCAAA;EACA,YAAA;CACA;AACA;EACA,yCAAA;UAAA,iCAAA;CACA;AACA;EACA,uDAAA;UAAA,+CAAA;CACA;AACA;EACA,uDAAA;UAAA,+CAAA;CACA;AACA;EACA,wDAAA;UAAA,gDAAA;CACA;AACA;EACA,mBAAA;EACA,WAAA;EACA,UAAA;EACA,YAAA;EACA,aAAA;EACA,kBAAA;EACA,mBAAA;EACA,0BAAA;EACA,mBAAA;EACA,uBAAA;CACA;;AD3fA,yCAAyC",file:"draggable.vue",sourcesContent:['@charset "UTF-8";\n.vm-draggable {\n  padding: 0;\n  position: absolute;\n  box-sizing: border-box;\n  user-select: none; }\n  .vm-draggable:hover {\n    cursor: move; }\n  .vm-draggable .events-none {\n    pointer-events: none; }\n  .vm-draggable .active {\n    padding: 0;\n    top: 0;\n    left: 0;\n    right: 0;\n    bottom: 0;\n    position: absolute;\n    z-index: 2;\n    border: 1px dotted #108ee9; }\n    .vm-draggable .active .handle {\n      display: block; }\n  .vm-draggable .disable {\n    border: 1px dotted #e96101; }\n    .vm-draggable .disable .handle-rotate:after {\n      background: #e96101; }\n    .vm-draggable .disable .handle-rotate:before {\n      color: #e96101; }\n  .vm-draggable .delete {\n    background: #108ee9;\n    position: absolute;\n    right: 0;\n    width: 20px;\n    color: white;\n    text-align: center;\n    z-index: 300; }\n\n.handle {\n  display: none;\n  position: absolute;\n  box-sizing: border-box;\n  z-index: 999; }\n\n.handle-left {\n  top: 0;\n  left: -5px;\n  cursor: ew-resize;\n  position: absolute;\n  height: 100%;\n  width: 5px; }\n  .handle-left:hover {\n    background: linear-gradient(to right, rgba(255, 255, 255, 0), #3F51B5); }\n\n.handle-right {\n  top: 0;\n  right: -5px;\n  cursor: ew-resize;\n  position: absolute;\n  height: 100%;\n  width: 5px; }\n  .handle-right:hover {\n    background: linear-gradient(to left, rgba(255, 255, 255, 0), #3F51B5); }\n\n.handle-top {\n  position: absolute;\n  width: 100%;\n  height: 5px;\n  top: -5px;\n  left: 0;\n  cursor: ns-resize; }\n  .handle-top:hover {\n    background: linear-gradient(to bottom, rgba(255, 255, 255, 0), #3F51B5); }\n\n.handle-bottom {\n  position: absolute;\n  width: 100%;\n  height: 5px;\n  bottom: -5px;\n  left: 0;\n  cursor: ns-resize; }\n  .handle-bottom:hover {\n    background: linear-gradient(to top, rgba(255, 255, 255, 0), #3F51B5); }\n\n.handle-top-left {\n  top: 0;\n  left: 0;\n  cursor: nwse-resize;\n  padding: 5px; }\n\n.handle-bottom-left {\n  bottom: 0;\n  left: 0;\n  cursor: nesw-resize;\n  padding: 5px; }\n\n.handle-top-right {\n  top: 0;\n  right: 0;\n  cursor: nesw-resize;\n  padding: 5px; }\n\n.handle-bottom-right {\n  bottom: 0;\n  right: 0;\n  cursor: nwse-resize;\n  padding: 5px; }\n\n.handle-rotate {\n  top: 0;\n  left: 50%;\n  transform: translate(-50%, -100%);\n  cursor: url(\'data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" style="font-size: 20px;"><text y="15">↻</text></svg>\') 10 10, default;\n  display: flex !important;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center; }\n  .handle-rotate:after {\n    content: \' \';\n    height: 10px;\n    width: 1px;\n    background: #108ee9; }\n  .handle-rotate:before {\n    content: \'☐\';\n    transform: translateY(26%);\n    color: #108ee9; }\n\n/**\n * rotate\n */\n.rotate-base-line {\n  position: absolute;\n  left: 50%;\n  top: 50%;\n  z-index: 2;\n  width: 500px;\n  border: 1px solid #1fb6ff;\n  background-color: #1fb6ff;\n  transform: translate(-50%, -50%) rotate(90deg); }\n\ndiv[class^=rotate-deg-] {\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  z-index: 2;\n  width: 500px;\n  border-top: 1px dashed #fff;\n  border-bottom: 1px dashed #262626;\n  opacity: .4; }\n\n.rotate-deg-0 {\n  transform: translate(-50%, -50%); }\n\n.rotate-deg-45 {\n  transform: translate(-50%, -50%) rotate(45deg); }\n\n.rotate-deg-90 {\n  transform: translate(-50%, -50%) rotate(90deg); }\n\n.rotate-deg-135 {\n  transform: translate(-50%, -50%) rotate(135deg); }\n\n.rotate-tip {\n  position: absolute;\n  top: -50px;\n  left: 60%;\n  width: 40px;\n  height: 16px;\n  line-height: 16px;\n  text-align: center;\n  border: 1px solid #262626;\n  border-radius: 8px;\n  background-color: #fff; }\n\n/*# sourceMappingURL=draggable.vue.map */',null]},media:void 0})},b,"data-v-46df2364",!1,0,function e(){var t=document.head||document.getElementsByTagName("head")[0],n=e.styles||(e.styles={}),i="undefined"!=typeof navigator&&/msie [6-9]\\b/.test(navigator.userAgent.toLowerCase());return function(e,r){if(!document.querySelector('style[data-vue-ssr-id~="'+e+'"]')){var a=i?r.media||"default":e,o=n[a]||(n[a]={ids:[],parts:[],element:void 0});if(!o.ids.includes(e)){var s=r.source,A=o.ids.length;if(o.ids.push(e),i&&(o.element=o.element||document.querySelector("style[data-group="+a+"]")),!o.element){var d=o.element=document.createElement("style");d.type="text/css",r.media&&d.setAttribute("media",r.media),i&&(d.setAttribute("data-group",a),d.setAttribute("data-next-index","0")),t.appendChild(d)}if(i&&(A=parseInt(o.element.getAttribute("data-next-index")),o.element.setAttribute("data-next-index",A+1)),o.element.styleSheet)o.parts.push(s),o.element.styleSheet.cssText=o.parts.filter(Boolean).join("\n");else{var l=document.createTextNode(s),u=o.element.childNodes;u[A]&&o.element.removeChild(u[A]),u.length?o.element.insertBefore(l,u[A]):o.element.appendChild(l)}}}}}),x={name:"vm-tpl-viewer",components:{},props:{id:String,x:Number,y:Number,z:Number,w:Number,h:Number,r:Number,name:[Number,String]},data:function(){return{}},computed:{},created:function(){},methods:{}},w=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{style:[{height:e.h?e.h+"px":"auto",width:e.w?e.w+"px":"auto",color:"black"}]},[e._v("\n\tid: "+e._s(e.id)+" "),n("br"),e._v("\n\tX: "+e._s(e.x)+" "),n("br"),e._v("\n\tY: "+e._s(e.y)+" "),n("br"),e._v("\n\tZ: "+e._s(e.z)+" "),n("br"),e._v("\n\tWidth: "+e._s(e.w?e.w:"auto")+" "),n("br"),e._v("\n\tHeight: "+e._s(e.h?e.h:"auto")+" "),n("br"),e._v("\n\tRotate: "+e._s(e.r)+" "),n("br"),e._v("\n\tName: "+e._s(e.name)+" "),n("br")])};w._withStripped=!0;var _=function(e,t,n,i,r,a,o,s){var A,d=("function"==typeof n?n.options:n)||{};if(d.__file="/Users/deot/Desktop/wya/github/wya-vm/src/combo/modules/__tpl__/viewer.vue",d.render||(d.render=e.render,d.staticRenderFns=e.staticRenderFns,d._compiled=!0,r&&(d.functional=!0)),d._scopeId=i,t&&(A=function(e){t.call(this,o(e))}),void 0!==A)if(d.functional){var l=d.render;d.render=function(e,t){return A.call(t),l(e,t)}}else{var u=d.beforeCreate;d.beforeCreate=u?[].concat(u,A):[A]}return d}({render:w,staticRenderFns:[]},function(e){e&&e("data-v-2b9bc37d_0",{source:"\n/*# sourceMappingURL=viewer.vue.map */",map:{version:3,sources:["viewer.vue"],names:[],mappings:";AACA,sCAAsC",file:"viewer.vue"},media:void 0})},x,"data-v-2b9bc37d",!1,0,function e(){var t=document.head||document.getElementsByTagName("head")[0],n=e.styles||(e.styles={}),i="undefined"!=typeof navigator&&/msie [6-9]\\b/.test(navigator.userAgent.toLowerCase());return function(e,r){if(!document.querySelector('style[data-vue-ssr-id~="'+e+'"]')){var a=i?r.media||"default":e,o=n[a]||(n[a]={ids:[],parts:[],element:void 0});if(!o.ids.includes(e)){var s=r.source,A=o.ids.length;if(o.ids.push(e),i&&(o.element=o.element||document.querySelector("style[data-group="+a+"]")),!o.element){var d=o.element=document.createElement("style");d.type="text/css",r.media&&d.setAttribute("media",r.media),i&&(d.setAttribute("data-group",a),d.setAttribute("data-next-index","0")),t.appendChild(d)}if(i&&(A=parseInt(o.element.getAttribute("data-next-index")),o.element.setAttribute("data-next-index",A+1)),o.element.styleSheet)o.parts.push(s),o.element.styleSheet.cssText=o.parts.filter(Boolean).join("\n");else{var l=document.createTextNode(s),u=o.element.childNodes;u[A]&&o.element.removeChild(u[A]),u.length?o.element.insertBefore(l,u[A]):o.element.appendChild(l)}}}}}),B={name:"vm-tpl-editor",components:{},props:{w:Number,h:Number,r:Number,x:Number,y:Number,z:Number,name:[Number,String]},data:function(){return{}},computed:{},created:function(){},methods:{handleChange:function(e,t){this.$emit("change",o({},t,e.target.value))},handleClick:function(){this.$emit("change",{x:this.x+1})}}},E=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticStyle:{display:"flex","flex-direction":"column"}},[n("div",[e._v("w: "),n("input",{domProps:{value:e.w},on:{input:function(t){e.handleChange(t,"w")}}})]),e._v(" "),n("div",[e._v("h: "),n("input",{domProps:{value:e.h},on:{input:function(t){e.handleChange(t,"h")}}})]),e._v(" "),n("div",[e._v("x: "),n("input",{domProps:{value:e.x},on:{input:function(t){e.handleChange(t,"x")}}})]),e._v(" "),n("div",[e._v("y: "),n("input",{domProps:{value:e.y},on:{input:function(t){e.handleChange(t,"y")}}})]),e._v(" "),n("div",[e._v("z: "),n("input",{domProps:{value:e.z},on:{input:function(t){e.handleChange(t,"z")}}})]),e._v(" "),n("div",[e._v("r: "),n("input",{domProps:{value:e.r},on:{input:function(t){e.handleChange(t,"r")}}})]),e._v(" "),n("div",[e._v("name: "),n("input",{domProps:{value:e.name},on:{input:function(t){e.handleChange(t,"name")}}})])])};E._withStripped=!0;var I={tpl:{module:"tpl",type:"基础组件",name:"模版",Viewer:_,Editor:function(e,t,n,i,r,a,o,s){var A,d=("function"==typeof n?n.options:n)||{};if(d.__file="/Users/deot/Desktop/wya/github/wya-vm/src/combo/modules/__tpl__/editor.vue",d.render||(d.render=e.render,d.staticRenderFns=e.staticRenderFns,d._compiled=!0,r&&(d.functional=!0)),d._scopeId=i,t&&(A=function(e){t.call(this,o(e))}),void 0!==A)if(d.functional){var l=d.render;d.render=function(e,t){return A.call(t),l(e,t)}}else{var u=d.beforeCreate;d.beforeCreate=u?[].concat(u,A):[A]}return d}({render:E,staticRenderFns:[]},function(e){e&&e("data-v-de3dcfea_0",{source:"\ninput[data-v-de3dcfea] {\n  border: 1px solid #000;\n  margin: 10px;\n}\n\n/*# sourceMappingURL=editor.vue.map */",map:{version:3,sources:["/Users/deot/Desktop/wya/github/wya-vm/src/combo/modules/__tpl__/editor.vue","editor.vue"],names:[],mappings:";AAgDA;EACA,uBAAA;EACA,aAAA;CACA;;AC/CA,sCAAsC",file:"editor.vue",sourcesContent:[null,"input {\n  border: 1px solid #000;\n  margin: 10px; }\n\n/*# sourceMappingURL=editor.vue.map */"]},media:void 0})},B,"data-v-de3dcfea",!1,0,function e(){var t=document.head||document.getElementsByTagName("head")[0],n=e.styles||(e.styles={}),i="undefined"!=typeof navigator&&/msie [6-9]\\b/.test(navigator.userAgent.toLowerCase());return function(e,r){if(!document.querySelector('style[data-vue-ssr-id~="'+e+'"]')){var a=i?r.media||"default":e,o=n[a]||(n[a]={ids:[],parts:[],element:void 0});if(!o.ids.includes(e)){var s=r.source,A=o.ids.length;if(o.ids.push(e),i&&(o.element=o.element||document.querySelector("style[data-group="+a+"]")),!o.element){var d=o.element=document.createElement("style");d.type="text/css",r.media&&d.setAttribute("media",r.media),i&&(d.setAttribute("data-group",a),d.setAttribute("data-next-index","0")),t.appendChild(d)}if(i&&(A=parseInt(o.element.getAttribute("data-next-index")),o.element.setAttribute("data-next-index",A+1)),o.element.styleSheet)o.parts.push(s),o.element.styleSheet.cssText=o.parts.filter(Boolean).join("\n");else{var l=document.createTextNode(s),u=o.element.childNodes;u[A]&&o.element.removeChild(u[A]),u.length?o.element.insertBefore(l,u[A]):o.element.appendChild(l)}}}}}),data:{w:200,h:150,r:0,x:0,y:0,z:1,parent:!1,name:"名称"},dataValidity:function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).name?null:{error:"输入框内容必填"}}}},k={name:"vm-tools-operation",components:{},props:{total:Number,current:Number,isEdit:Boolean},data:function(){return{}},computed:{},watch:{},created:function(){},methods:{handleUndo:function(){this.$emit("undo")},handleRedo:function(){this.$emit("redo")},handleDelete:function(){this.$emit("delete")}}},S=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"vm-tools-operation"}},[n("div",{class:{disabled:0===e.current},on:{click:e.handleUndo}},[e._v("←")]),e._v(" "),n("div",{class:{disabled:e.current===e.total},on:{click:e.handleRedo}},[e._v("→")]),e._v(" "),n("div",{class:{disabled:!e.isEdit},on:{click:e.handleDelete}},[e._v("✕")]),e._v(" "),n("span",[e._v("\n\t\tcur: "+e._s(e.current)+"\n\t\tlast: "+e._s(e.total)+"\n\t")])])};S._withStripped=!0;var z=function(e,t,n,i,r,a,o,s){var A,d=("function"==typeof n?n.options:n)||{};if(d.__file="/Users/deot/Desktop/wya/github/wya-vm/src/combo/tools/operation.vue",d.render||(d.render=e.render,d.staticRenderFns=e.staticRenderFns,d._compiled=!0,r&&(d.functional=!0)),d._scopeId=i,t&&(A=function(e){t.call(this,o(e))}),void 0!==A)if(d.functional){var l=d.render;d.render=function(e,t){return A.call(t),l(e,t)}}else{var u=d.beforeCreate;d.beforeCreate=u?[].concat(u,A):[A]}return d}({render:S,staticRenderFns:[]},function(e){e&&e("data-v-a8431246_0",{source:"\n#vm-tools-operation[data-v-a8431246] {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  cursor: pointer;\n  -webkit-box-align: center;\n      -ms-flex-align: center;\n          align-items: center;\n  -webkit-user-select: none;\n     -moz-user-select: none;\n      -ms-user-select: none;\n          user-select: none;\n}\n#vm-tools-operation div[data-v-a8431246] {\n    display: -webkit-box;\n    display: -ms-flexbox;\n    display: flex;\n    -webkit-box-align: center;\n        -ms-flex-align: center;\n            align-items: center;\n    -webkit-box-pack: center;\n        -ms-flex-pack: center;\n            justify-content: center;\n    width: 30px;\n    height: 30px;\n    -webkit-user-select: none;\n       -moz-user-select: none;\n        -ms-user-select: none;\n            user-select: none;\n}\n#vm-tools-operation .disabled[data-v-a8431246] {\n    pointer-events: none;\n    color: #ccc;\n}\n\n/*# sourceMappingURL=operation.vue.map */",map:{version:3,sources:["/Users/deot/Desktop/wya/github/wya-vm/src/combo/tools/operation.vue","operation.vue"],names:[],mappings:";AA2DA;EACA,qBAAA;EAAA,qBAAA;EAAA,cAAA;EACA,gBAAA;EACA,0BAAA;MAAA,uBAAA;UAAA,oBAAA;EACA,0BAAA;KAAA,uBAAA;MAAA,sBAAA;UAAA,kBAAA;CAaA;AAjBA;IAMA,qBAAA;IAAA,qBAAA;IAAA,cAAA;IACA,0BAAA;QAAA,uBAAA;YAAA,oBAAA;IACA,yBAAA;QAAA,sBAAA;YAAA,wBAAA;IACA,YAAA;IACA,aAAA;IACA,0BAAA;OAAA,uBAAA;QAAA,sBAAA;YAAA,kBAAA;CACA;AAZA;IAcA,qBAAA;IACA,YAAA;CACA;;AC3DA,yCAAyC",file:"operation.vue",sourcesContent:[null,"#vm-tools-operation {\n  display: flex;\n  cursor: pointer;\n  align-items: center;\n  user-select: none; }\n  #vm-tools-operation div {\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    width: 30px;\n    height: 30px;\n    user-select: none; }\n  #vm-tools-operation .disabled {\n    pointer-events: none;\n    color: #ccc; }\n\n/*# sourceMappingURL=operation.vue.map */"]},media:void 0})},k,"data-v-a8431246",!1,0,function e(){var t=document.head||document.getElementsByTagName("head")[0],n=e.styles||(e.styles={}),i="undefined"!=typeof navigator&&/msie [6-9]\\b/.test(navigator.userAgent.toLowerCase());return function(e,r){if(!document.querySelector('style[data-vue-ssr-id~="'+e+'"]')){var a=i?r.media||"default":e,o=n[a]||(n[a]={ids:[],parts:[],element:void 0});if(!o.ids.includes(e)){var s=r.source,A=o.ids.length;if(o.ids.push(e),i&&(o.element=o.element||document.querySelector("style[data-group="+a+"]")),!o.element){var d=o.element=document.createElement("style");d.type="text/css",r.media&&d.setAttribute("media",r.media),i&&(d.setAttribute("data-group",a),d.setAttribute("data-next-index","0")),t.appendChild(d)}if(i&&(A=parseInt(o.element.getAttribute("data-next-index")),o.element.setAttribute("data-next-index",A+1)),o.element.styleSheet)o.parts.push(s),o.element.styleSheet.cssText=o.parts.filter(Boolean).join("\n");else{var l=document.createTextNode(s),u=o.element.childNodes;u[A]&&o.element.removeChild(u[A]),u.length?o.element.insertBefore(l,u[A]):o.element.appendChild(l)}}}}}),D={name:"vm-tools-save",components:{},props:{},data:function(){return{}},computed:{},watch:{},created:function(){},methods:{}},N=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"vm-tools-save"}},[n("div",{on:{click:function(t){e.$emit("save")}}},[e._v("保存")]),e._v(" "),n("div",{on:{click:function(t){e.$emit("preview")}}},[e._v("预览")])])};N._withStripped=!0;var O=function(e,t,n,i,r,a,o,s){var A,d=("function"==typeof n?n.options:n)||{};if(d.__file="/Users/deot/Desktop/wya/github/wya-vm/src/combo/tools/save.vue",d.render||(d.render=e.render,d.staticRenderFns=e.staticRenderFns,d._compiled=!0,r&&(d.functional=!0)),d._scopeId=i,t&&(A=function(e){t.call(this,o(e))}),void 0!==A)if(d.functional){var l=d.render;d.render=function(e,t){return A.call(t),l(e,t)}}else{var u=d.beforeCreate;d.beforeCreate=u?[].concat(u,A):[A]}return d}({render:N,staticRenderFns:[]},function(e){e&&e("data-v-8790abf2_0",{source:"\n#vm-tools-save[data-v-8790abf2] {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  cursor: pointer;\n  -webkit-box-align: center;\n      -ms-flex-align: center;\n          align-items: center;\n  -webkit-user-select: none;\n     -moz-user-select: none;\n      -ms-user-select: none;\n          user-select: none;\n}\n#vm-tools-save div[data-v-8790abf2] {\n    display: -webkit-box;\n    display: -ms-flexbox;\n    display: flex;\n    -webkit-box-align: center;\n        -ms-flex-align: center;\n            align-items: center;\n    -webkit-box-pack: center;\n        -ms-flex-pack: center;\n            justify-content: center;\n    width: 30px;\n    height: 30px;\n    -webkit-user-select: none;\n       -moz-user-select: none;\n        -ms-user-select: none;\n            user-select: none;\n}\n#vm-tools-save .disabled[data-v-8790abf2] {\n    pointer-events: none;\n    color: #ccc;\n}\n\n/*# sourceMappingURL=save.vue.map */",map:{version:3,sources:["/Users/deot/Desktop/wya/github/wya-vm/src/combo/tools/save.vue","save.vue"],names:[],mappings:";AAgCA;EACA,qBAAA;EAAA,qBAAA;EAAA,cAAA;EACA,gBAAA;EACA,0BAAA;MAAA,uBAAA;UAAA,oBAAA;EACA,0BAAA;KAAA,uBAAA;MAAA,sBAAA;UAAA,kBAAA;CAaA;AAjBA;IAMA,qBAAA;IAAA,qBAAA;IAAA,cAAA;IACA,0BAAA;QAAA,uBAAA;YAAA,oBAAA;IACA,yBAAA;QAAA,sBAAA;YAAA,wBAAA;IACA,YAAA;IACA,aAAA;IACA,0BAAA;OAAA,uBAAA;QAAA,sBAAA;YAAA,kBAAA;CACA;AAZA;IAcA,qBAAA;IACA,YAAA;CACA;;AChCA,oCAAoC",file:"save.vue",sourcesContent:[null,"#vm-tools-save {\n  display: flex;\n  cursor: pointer;\n  align-items: center;\n  user-select: none; }\n  #vm-tools-save div {\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    width: 30px;\n    height: 30px;\n    user-select: none; }\n  #vm-tools-save .disabled {\n    pointer-events: none;\n    color: #ccc; }\n\n/*# sourceMappingURL=save.vue.map */"]},media:void 0})},D,"data-v-8790abf2",!1,0,function e(){var t=document.head||document.getElementsByTagName("head")[0],n=e.styles||(e.styles={}),i="undefined"!=typeof navigator&&/msie [6-9]\\b/.test(navigator.userAgent.toLowerCase());return function(e,r){if(!document.querySelector('style[data-vue-ssr-id~="'+e+'"]')){var a=i?r.media||"default":e,o=n[a]||(n[a]={ids:[],parts:[],element:void 0});if(!o.ids.includes(e)){var s=r.source,A=o.ids.length;if(o.ids.push(e),i&&(o.element=o.element||document.querySelector("style[data-group="+a+"]")),!o.element){var d=o.element=document.createElement("style");d.type="text/css",r.media&&d.setAttribute("media",r.media),i&&(d.setAttribute("data-group",a),d.setAttribute("data-next-index","0")),t.appendChild(d)}if(i&&(A=parseInt(o.element.getAttribute("data-next-index")),o.element.setAttribute("data-next-index",A+1)),o.element.styleSheet)o.parts.push(s),o.element.styleSheet.cssText=o.parts.filter(Boolean).join("\n");else{var l=document.createTextNode(s),u=o.element.childNodes;u[A]&&o.element.removeChild(u[A]),u.length?o.element.insertBefore(l,u[A]):o.element.appendChild(l)}}}}}),U={name:"vm-preview",components:{},props:{dataSource:Array,css:{type:Object,default:function(){return{style:{},className:""}}},animation:{type:String,default:"fade"},mask:{type:Boolean,default:!0}},data:function(){return{visible:!1,transform:"translate(-100px, -100px)"}},computed:{},watch:{},mounted:function(){this.visible=!0},updated:function(){},methods:{handleClose:function(){var e=this;this.visible=!1,setTimeout(function(){e.$emit("close")},300)}}},$=document.body,Y={vm:null,show:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.components,i=void 0===n?{}:n,a=A(t,["components"]);i=function(e){var t=c(e);for(var n in t)t[n]._Ctor&&(t[n]._Ctor=null);return t}(i);var o=document.createElement("div"),d=r.extend(c(s({},U,{components:s({},U.components,i)})));return this.vm&&this.vm.$emit("close"),this.vm=new d({el:o,propsData:s({},a)}),this.vm.$on("close",function(){e.vm.$destroy(),$.removeChild(e.vm.$el)}),$.appendChild(this.vm.$el),this.vm},hide:function(){this.vm&&this.vm.$emit("close")}},R=U,M=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"vm-tools-preview"},[e.mask?n("transition",{attrs:{name:e.animation}},[n("div",{directives:[{name:"show",rawName:"v-show",value:e.visible,expression:"visible"}],staticClass:"__mask",on:{click:e.handleClose}})]):e._e(),e._v(" "),e.mask?n("transition",{attrs:{name:e.animation}},[n("div",{directives:[{name:"show",rawName:"v-show",value:e.visible,expression:"visible"}],staticClass:"__close",on:{click:e.handleClose}},[e._v("✕")])]):e._e(),e._v(" "),n("transition",{attrs:{name:e.animation}},[n("div",{directives:[{name:"show",rawName:"v-show",value:e.visible,expression:"visible"}],staticClass:"__content"},[n("div",{class:e.css.className,staticStyle:{position:"relative"},style:e.css.style},e._l(e.dataSource,function(t){return n("div",{key:t.id,style:{position:"absolute",width:t.w?t.w+"px":"auto",height:t.h?t.h+"px":"auto",left:t.x+"px",top:t.y+"px",transform:"rotate("+t.r+"deg)"}},[n("vm-"+t.module+"-viewer",e._b({tag:"component"},"component",t,!1))],1)}))])])],1)};M._withStripped=!0;var j=function(e,t,n,i,r,a,o,s){var A,d=("function"==typeof n?n.options:n)||{};if(d.__file="/Users/deot/Desktop/wya/github/wya-vm/src/combo/tools/preview.vue",d.render||(d.render=e.render,d.staticRenderFns=e.staticRenderFns,d._compiled=!0,r&&(d.functional=!0)),d._scopeId=i,t&&(A=function(e){t.call(this,o(e))}),void 0!==A)if(d.functional){var l=d.render;d.render=function(e,t){return A.call(t),l(e,t)}}else{var u=d.beforeCreate;d.beforeCreate=u?[].concat(u,A):[A]}return d}({render:M,staticRenderFns:[]},function(e){e&&e("data-v-af214562_0",{source:"\n.vm-tools-preview[data-v-af214562] {\n  position: fixed;\n  top: 0;\n  right: 0;\n  left: 0;\n  bottom: 0;\n  z-index: 999;\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-align: center;\n      -ms-flex-align: center;\n          align-items: center;\n  -webkit-box-pack: center;\n      -ms-flex-pack: center;\n          justify-content: center;\n}\n.vm-tools-preview .__mask[data-v-af214562] {\n    position: absolute;\n    z-index: 997;\n    top: 0;\n    left: 0;\n    width: 100%;\n    height: 100%;\n    background-color: rgba(0, 0, 0, .2);\n    -webkit-transition: opacity 0.2s;\n    transition: opacity 0.2s;\n}\n.vm-tools-preview .__content[data-v-af214562] {\n    position: relative;\n    z-index: 998;\n    overflow: auto;\n    max-height: 100vh;\n    max-width: 100vw;\n    -webkit-transition: opacity 0.2s, -webkit-transform 0.2s;\n    transition: opacity 0.2s, -webkit-transform 0.2s;\n    transition: transform 0.2s, opacity 0.2s;\n    transition: transform 0.2s, opacity 0.2s, -webkit-transform 0.2s;\n}\n.vm-tools-preview .__close[data-v-af214562] {\n    position: absolute;\n    right: 30px;\n    top: 30px;\n    font-size: 24px;\n    z-index: 999;\n}\n.fade-enter[data-v-af214562], .fade-leave-active[data-v-af214562] {\n  opacity: 0;\n}\n\n/*# sourceMappingURL=preview.vue.map */",map:{version:3,sources:["/Users/deot/Desktop/wya/github/wya-vm/src/combo/tools/preview.vue","preview.vue"],names:[],mappings:";AA8HA;EACA,gBAAA;EACA,OAAA;EACA,SAAA;EACA,QAAA;EACA,UAAA;EACA,aAAA;EACA,qBAAA;EAAA,qBAAA;EAAA,cAAA;EACA,0BAAA;MAAA,uBAAA;UAAA,oBAAA;EACA,yBAAA;MAAA,sBAAA;UAAA,wBAAA;CA2BA;AApCA;IAWA,mBAAA;IACA,aAAA;IACA,OAAA;IACA,QAAA;IACA,YAAA;IACA,aAAA;IACA,oCAAA;IAEA,iCAAA;IAAA,yBAAA;CACA;AApBA;IAsBA,mBAAA;IACA,aAAA;IACA,eAAA;IACA,kBAAA;IACA,iBAAA;IACA,yDAAA;IAAA,iDAAA;IAAA,yCAAA;IAAA,iEAAA;CACA;AA5BA;IA8BA,mBAAA;IACA,YAAA;IACA,UAAA;IACA,gBAAA;IACA,aAAA;CACA;AAEA;EACA,WAAA;CACA;;ACjIA,uCAAuC",file:"preview.vue",sourcesContent:[null,".vm-tools-preview {\n  position: fixed;\n  top: 0;\n  right: 0;\n  left: 0;\n  bottom: 0;\n  z-index: 999;\n  display: flex;\n  align-items: center;\n  justify-content: center; }\n  .vm-tools-preview .__mask {\n    position: absolute;\n    z-index: 997;\n    top: 0;\n    left: 0;\n    width: 100%;\n    height: 100%;\n    background-color: rgba(0, 0, 0, 0.2);\n    transition: opacity 0.2s; }\n  .vm-tools-preview .__content {\n    position: relative;\n    z-index: 998;\n    overflow: auto;\n    max-height: 100vh;\n    max-width: 100vw;\n    transition: transform 0.2s, opacity 0.2s; }\n  .vm-tools-preview .__close {\n    position: absolute;\n    right: 30px;\n    top: 30px;\n    font-size: 24px;\n    z-index: 999; }\n\n.fade-enter, .fade-leave-active {\n  opacity: 0; }\n\n/*# sourceMappingURL=preview.vue.map */"]},media:void 0})},R,"data-v-af214562",!1,0,function e(){var t=document.head||document.getElementsByTagName("head")[0],n=e.styles||(e.styles={}),i="undefined"!=typeof navigator&&/msie [6-9]\\b/.test(navigator.userAgent.toLowerCase());return function(e,r){if(!document.querySelector('style[data-vue-ssr-id~="'+e+'"]')){var a=i?r.media||"default":e,o=n[a]||(n[a]={ids:[],parts:[],element:void 0});if(!o.ids.includes(e)){var s=r.source,A=o.ids.length;if(o.ids.push(e),i&&(o.element=o.element||document.querySelector("style[data-group="+a+"]")),!o.element){var d=o.element=document.createElement("style");d.type="text/css",r.media&&d.setAttribute("media",r.media),i&&(d.setAttribute("data-group",a),d.setAttribute("data-next-index","0")),t.appendChild(d)}if(i&&(A=parseInt(o.element.getAttribute("data-next-index")),o.element.setAttribute("data-next-index",A+1)),o.element.styleSheet)o.parts.push(s),o.element.styleSheet.cssText=o.parts.filter(Boolean).join("\n");else{var l=document.createTextNode(s),u=o.element.childNodes;u[A]&&o.element.removeChild(u[A]),u.length?o.element.insertBefore(l,u[A]):o.element.appendChild(l)}}}}}),T={name:"vm-combo",components:{"vm-tools-operation":z,"vm-tools-save":O},props:{width:Number,height:Number,type:{type:String,default:"free"},dataSource:{type:Array,default:function(){return[]}},frameStyle:Object,frameW:Number,frameH:Number,frameOpts:Object,toolsStyle:Object,toolsW:Number,toolsH:Number,toolsOpts:Object},data:function(){return{editor:null,dragging:!1,resizing:!1,current:0,total:0,rebuildData:[]}},computed:{style:function(){return{width:0===this.width?"auto":"".concat(this.width,"px"),height:0===this.height?"auto":"".concat(this.height,"px")}}},watch:{dataSource:{deep:!0,handler:function(){this.rebuildData=c(this.dataSource)}}},created:function(){this.historyData=[],this.rebuildData=c(this.dataSource)},destroyed:function(){Y.hide()},methods:{sync:function(e){for(var t in e)this[t]!=e[t]&&this.$emit("update:".concat(t),e[t])},handleActivated:function(e){this.editor=e},handleDeactivated:function(e){this.editor=null},handleChange:function(e){var t=e.type,n=e.id,i=e.index,r=e.old;t&&n||console.error("[wya-vm/combo]: id, type is required");var a=this.current,o=this.total,s={type:t,id:n,old:r,index:void 0===i?this.rebuildData.findIndex(function(e){return e.id===n}):i,data:c(this.rebuildData.find(function(e){return e.id===n}))};a===o?this.historyData.push(s):this.historyData.splice(a,o-a,s);var A=this.historyData.length;this.current=A,this.total=A,"delete"===t&&(this.rebuildData.splice(s.index,1),this.editor=null)},handleOperate:function(e){this[e]&&this[e]()},delete:function(){var e=(this.editor||{}).id;e||this.$emit("error",{type:"id",msg:"请先选择操作对象"}),this.handleChange({type:"delete",id:e})},undo:function(){var e=this.current-1;if(e<0)this.$emit("error",{type:"undo",msg:"目前已经是初始状态"});else{this.current=e;var t=this.historyData[this.current]||{},n=t.type,i=t.id,r=t.data,a=t.index,o=t.old;switch(n){case"create":this.rebuildData.splice(a,1);break;case"delete":this.rebuildData.splice(a,0,r);break;case"update":this.rebuildData.splice(a,1,c(s({},r,o)))}this.editor&&this.editor.id===i&&(this.editor=this.rebuildData[a])}},redo:function(){var e=this.current+1;if(e>this.total)this.$emit("error",{type:"undo",msg:"目前已经是最终状态"});else{this.current=e;var t=this.historyData[this.current-1],n=t.type,i=t.id,r=t.data,a=t.index;switch(n){case"create":this.rebuildData.splice(a,1,r);break;case"delete":this.rebuildData.splice(a,1);break;case"update":this.rebuildData.splice(a,1,r)}this.editor&&this.editor.id===i&&(this.editor=this.rebuildData[a])}},save:function(){var e=c(this.rebuildData)||[];if(0!==e.length){for(var t=this.$options.modules,n=0;n<e.length;n++){var i=e[n].module;if(t[i].dataValidity){var r=t[i].dataValidity(e[n]);if(r)return this.$emit("error",{type:"save",msg:"第".concat(n+1,"个 - ").concat(r.error),index:n}),void this.$refs.frame.setActived(n)}}this.$emit("save",e)}else this.$emit("error",{type:"save",msg:"保存对象不能为空"})},preview:function(){0!==this.rebuildData.length?Y.show({components:this.$options.viewers,dataSource:c(this.rebuildData),css:{style:s({},this.frameStyle,{width:0===this.frameW?"auto":"".concat(this.frameW,"px"),height:0===this.frameH?"auto":"".concat(this.frameH,"px")}),className:"__frame"}}):this.$emit("error",{type:"preview",msg:"预览数据对象不能为空"})}}},F=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"vm-combo",style:e.style},[n("vm-tools-widget",e._b({staticClass:"__tools",style:e.toolsStyle},"vm-tools-widget",e.toolsOpts,!1)),e._v(" "),n("vm-tools-save",{on:{save:function(t){e.handleOperate("save")},preview:function(t){e.handleOperate("preview")}}}),e._v(" "),n("vm-tools-operation",{attrs:{current:e.current,total:e.total,"is-edit":!!e.editor},on:{undo:function(t){e.handleOperate("undo")},redo:function(t){e.handleOperate("redo")},delete:function(t){e.handleOperate("delete")}}}),e._v(" "),n("vm-frame",e._b({ref:"frame",staticClass:"__frame",style:e.frameStyle,attrs:{width:e.frameW,height:e.frameH,"data-source":e.rebuildData,editor:e.editor},on:{activated:e.handleActivated,deactivated:e.handleDeactivated,change:e.handleChange}},"vm-frame",e.frameOpts,!1)),e._v(" "),e.editor?n("vm-editor",{attrs:{"data-source":e.editor},on:{change:e.handleChange}}):e._e()],1)};F._withStripped=!0;var q=function(e,t,n,i,r,a,o,s){var A,d=("function"==typeof n?n.options:n)||{};if(d.__file="/Users/deot/Desktop/wya/github/wya-vm/src/combo/combo.vue",d.render||(d.render=e.render,d.staticRenderFns=e.staticRenderFns,d._compiled=!0,r&&(d.functional=!0)),d._scopeId=i,t&&(A=function(e){t.call(this,o(e))}),void 0!==A)if(d.functional){var l=d.render;d.render=function(e,t){return A.call(t),l(e,t)}}else{var u=d.beforeCreate;d.beforeCreate=u?[].concat(u,A):[A]}return d}({render:F,staticRenderFns:[]},function(e){e&&e("data-v-3ba765f1_0",{source:"\n/*# sourceMappingURL=combo.vue.map */",map:{version:3,sources:["combo.vue"],names:[],mappings:";AACA,qCAAqC",file:"combo.vue",sourcesContent:["\n/*# sourceMappingURL=combo.vue.map */"]},media:void 0})},T,"data-v-3ba765f1",!1,0,function e(){var t=document.head||document.getElementsByTagName("head")[0],n=e.styles||(e.styles={}),i="undefined"!=typeof navigator&&/msie [6-9]\\b/.test(navigator.userAgent.toLowerCase());return function(e,r){if(!document.querySelector('style[data-vue-ssr-id~="'+e+'"]')){var a=i?r.media||"default":e,o=n[a]||(n[a]={ids:[],parts:[],element:void 0});if(!o.ids.includes(e)){var s=r.source,A=o.ids.length;if(o.ids.push(e),i&&(o.element=o.element||document.querySelector("style[data-group="+a+"]")),!o.element){var d=o.element=document.createElement("style");d.type="text/css",r.media&&d.setAttribute("media",r.media),i&&(d.setAttribute("data-group",a),d.setAttribute("data-next-index","0")),t.appendChild(d)}if(i&&(A=parseInt(o.element.getAttribute("data-next-index")),o.element.setAttribute("data-next-index",A+1)),o.element.styleSheet)o.parts.push(s),o.element.styleSheet.cssText=o.parts.filter(Boolean).join("\n");else{var l=document.createTextNode(s),u=o.element.childNodes;u[A]&&o.element.removeChild(u[A]),u.length?o.element.insertBefore(l,u[A]):o.element.appendChild(l)}}}}}),L={name:"vm-grid-lines",components:{},props:{width:Number,height:Number,grid:{type:Array,default:function(){return[10,10]}}},data:function(){return{}},computed:{xArr:function(){var e=this,t=Math.floor(this.width/this.grid[0]);return Array.from({length:t},function(t,n){return n*e.grid[0]})},yArr:function(){var e=this,t=Math.floor(this.height/this.grid[1]);return Array.from({length:t},function(t,n){return n*e.grid[1]})}},watch:{},created:function(){},methods:{}},X=function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"vm-grid-lines"},[this._l(this.yArr,function(e){return t("div",{key:"y_"+e,staticClass:"__y",style:{top:e+"px"}})}),this._v(" "),this._l(this.xArr,function(e){return t("div",{key:"x_"+e,staticClass:"__x",style:{left:e+"px"}})})],2)};X._withStripped=!0;var W=function(e,t,n,i,r,a,o,s){var A,d=("function"==typeof n?n.options:n)||{};if(d.__file="/Users/deot/Desktop/wya/github/wya-vm/src/combo/frame/grid-lines.vue",d.render||(d.render=e.render,d.staticRenderFns=e.staticRenderFns,d._compiled=!0,r&&(d.functional=!0)),d._scopeId=i,t&&(A=function(e){t.call(this,o(e))}),void 0!==A)if(d.functional){var l=d.render;d.render=function(e,t){return A.call(t),l(e,t)}}else{var u=d.beforeCreate;d.beforeCreate=u?[].concat(u,A):[A]}return d}({render:X,staticRenderFns:[]},function(e){e&&e("data-v-64292bc8_0",{source:"\n.vm-grid-lines[data-v-64292bc8] {\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  overflow: hidden;\n  z-index: 0;\n}\n.vm-grid-lines .__x[data-v-64292bc8] {\n    position: absolute;\n    left: 0;\n    width: 1px;\n    height: 100%;\n    border-left-width: 1px;\n    border-left-style: dotted;\n    border-left-color: #d6d6d6;\n    -webkit-box-sizing: border-box;\n            box-sizing: border-box;\n}\n.vm-grid-lines .__y[data-v-64292bc8] {\n    position: absolute;\n    top: 0;\n    width: 100%;\n    height: 1px;\n    border-top-width: 1px;\n    border-top-style: dotted;\n    border-top-color: #d6d6d6;\n    -webkit-box-sizing: border-box;\n            box-sizing: border-box;\n}\n\n/*# sourceMappingURL=grid-lines.vue.map */",map:{version:3,sources:["/Users/deot/Desktop/wya/github/wya-vm/src/combo/frame/grid-lines.vue","grid-lines.vue"],names:[],mappings:";AA4DA;EACA,mBAAA;EACA,OAAA;EACA,QAAA;EACA,YAAA;EACA,aAAA;EACA,iBAAA;EACA,WAAA;CAqBA;AA5BA;IASA,mBAAA;IACA,QAAA;IACA,WAAA;IACA,aAAA;IACA,uBAAA;IACA,0BAAA;IACA,2BAAA;IACA,+BAAA;YAAA,uBAAA;CACA;AAjBA;IAmBA,mBAAA;IACA,OAAA;IACA,YAAA;IACA,YAAA;IACA,sBAAA;IACA,yBAAA;IACA,0BAAA;IACA,+BAAA;YAAA,uBAAA;CACA;;AC5DA,0CAA0C",file:"grid-lines.vue",sourcesContent:[null,".vm-grid-lines {\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  overflow: hidden;\n  z-index: 0; }\n  .vm-grid-lines .__x {\n    position: absolute;\n    left: 0;\n    width: 1px;\n    height: 100%;\n    border-left-width: 1px;\n    border-left-style: dotted;\n    border-left-color: #d6d6d6;\n    box-sizing: border-box; }\n  .vm-grid-lines .__y {\n    position: absolute;\n    top: 0;\n    width: 100%;\n    height: 1px;\n    border-top-width: 1px;\n    border-top-style: dotted;\n    border-top-color: #d6d6d6;\n    box-sizing: border-box; }\n\n/*# sourceMappingURL=grid-lines.vue.map */"]},media:void 0})},L,"data-v-64292bc8",!1,0,function e(){var t=document.head||document.getElementsByTagName("head")[0],n=e.styles||(e.styles={}),i="undefined"!=typeof navigator&&/msie [6-9]\\b/.test(navigator.userAgent.toLowerCase());return function(e,r){if(!document.querySelector('style[data-vue-ssr-id~="'+e+'"]')){var a=i?r.media||"default":e,o=n[a]||(n[a]={ids:[],parts:[],element:void 0});if(!o.ids.includes(e)){var s=r.source,A=o.ids.length;if(o.ids.push(e),i&&(o.element=o.element||document.querySelector("style[data-group="+a+"]")),!o.element){var d=o.element=document.createElement("style");d.type="text/css",r.media&&d.setAttribute("media",r.media),i&&(d.setAttribute("data-group",a),d.setAttribute("data-next-index","0")),t.appendChild(d)}if(i&&(A=parseInt(o.element.getAttribute("data-next-index")),o.element.setAttribute("data-next-index",A+1)),o.element.styleSheet)o.parts.push(s),o.element.styleSheet.cssText=o.parts.filter(Boolean).join("\n");else{var l=document.createTextNode(s),u=o.element.childNodes;u[A]&&o.element.removeChild(u[A]),u.length?o.element.insertBefore(l,u[A]):o.element.appendChild(l)}}}}}),P={name:"vm-align-lines",components:{},props:{dataSource:{type:Array,default:function(){return[]}},editor:Object},data:function(){return{}},computed:{alignData:function(){var e=this;if(this.dataSource.length<=1||!this.editor)return{xArr:[],yArr:[]};var t=this.editor||{},n=t.x,i=t.y,r=t.w,a=t.h,o=[n,n+r/2,n+r],s=[i,i+a/2,i+a],A=this.dataSource.reduce(function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=n.x,r=n.y,a=n.w,o=n.h;if(n.id!==e.editor.id){var s=[i,i+a/2,i+a],A=[r,r+o/2,r+o];t.xArr=d(t.xArr).concat(s),t.yArr=d(t.yArr).concat(A)}return t},{xArr:[],yArr:[]});return{xArr:o.filter(function(e){return A.xArr.includes(e)}),yArr:s.filter(function(e){return A.yArr.includes(e)})}}},watch:{},created:function(){},methods:{}},Q=function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"vm-align-lines"},[this._l(this.alignData.yArr,function(e){return t("div",{key:"y_"+e,staticClass:"__y",style:{top:e+"px"}})}),this._v(" "),this._l(this.alignData.xArr,function(e){return t("div",{key:"x_"+e,staticClass:"__x",style:{left:e+"px"}})})],2)};Q._withStripped=!0;var H={name:"vm-frame",components:{"vm-draggable":C,"vm-grid-lines":W,"vm-align-lines":function(e,t,n,i,r,a,o,s){var A,d=("function"==typeof n?n.options:n)||{};if(d.__file="/Users/deot/Desktop/wya/github/wya-vm/src/combo/frame/align-lines.vue",d.render||(d.render=e.render,d.staticRenderFns=e.staticRenderFns,d._compiled=!0,r&&(d.functional=!0)),d._scopeId=i,t&&(A=function(e){t.call(this,o(e))}),void 0!==A)if(d.functional){var l=d.render;d.render=function(e,t){return A.call(t),l(e,t)}}else{var u=d.beforeCreate;d.beforeCreate=u?[].concat(u,A):[A]}return d}({render:Q,staticRenderFns:[]},function(e){e&&e("data-v-47fe399b_0",{source:"\n.vm-align-lines[data-v-47fe399b] {\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  overflow: hidden;\n  z-index: 0;\n}\n.vm-align-lines .__x[data-v-47fe399b] {\n    position: absolute;\n    left: 0;\n    width: 1px;\n    height: 100%;\n    border-left-width: 1px;\n    border-left-style: dotted;\n    border-left-color: #1fb6ff;\n    -webkit-box-sizing: border-box;\n            box-sizing: border-box;\n}\n.vm-align-lines .__y[data-v-47fe399b] {\n    position: absolute;\n    top: 0;\n    width: 100%;\n    height: 1px;\n    border-top-width: 1px;\n    border-top-style: dotted;\n    border-top-color: #1fb6ff;\n    -webkit-box-sizing: border-box;\n            box-sizing: border-box;\n}\n\n/*# sourceMappingURL=align-lines.vue.map */",map:{version:3,sources:["/Users/deot/Desktop/wya/github/wya-vm/src/combo/frame/align-lines.vue","align-lines.vue"],names:[],mappings:";AA+EA;EACA,mBAAA;EACA,OAAA;EACA,QAAA;EACA,YAAA;EACA,aAAA;EACA,iBAAA;EACA,WAAA;CAqBA;AA5BA;IASA,mBAAA;IACA,QAAA;IACA,WAAA;IACA,aAAA;IACA,uBAAA;IACA,0BAAA;IACA,2BAAA;IACA,+BAAA;YAAA,uBAAA;CACA;AAjBA;IAmBA,mBAAA;IACA,OAAA;IACA,YAAA;IACA,YAAA;IACA,sBAAA;IACA,yBAAA;IACA,0BAAA;IACA,+BAAA;YAAA,uBAAA;CACA;;AC/EA,2CAA2C",file:"align-lines.vue",sourcesContent:[null,".vm-align-lines {\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  overflow: hidden;\n  z-index: 0; }\n  .vm-align-lines .__x {\n    position: absolute;\n    left: 0;\n    width: 1px;\n    height: 100%;\n    border-left-width: 1px;\n    border-left-style: dotted;\n    border-left-color: #1fb6ff;\n    box-sizing: border-box; }\n  .vm-align-lines .__y {\n    position: absolute;\n    top: 0;\n    width: 100%;\n    height: 1px;\n    border-top-width: 1px;\n    border-top-style: dotted;\n    border-top-color: #1fb6ff;\n    box-sizing: border-box; }\n\n/*# sourceMappingURL=align-lines.vue.map */"]},media:void 0})},P,"data-v-47fe399b",!1,0,function e(){var t=document.head||document.getElementsByTagName("head")[0],n=e.styles||(e.styles={}),i="undefined"!=typeof navigator&&/msie [6-9]\\b/.test(navigator.userAgent.toLowerCase());return function(e,r){if(!document.querySelector('style[data-vue-ssr-id~="'+e+'"]')){var a=i?r.media||"default":e,o=n[a]||(n[a]={ids:[],parts:[],element:void 0});if(!o.ids.includes(e)){var s=r.source,A=o.ids.length;if(o.ids.push(e),i&&(o.element=o.element||document.querySelector("style[data-group="+a+"]")),!o.element){var d=o.element=document.createElement("style");d.type="text/css",r.media&&d.setAttribute("media",r.media),i&&(d.setAttribute("data-group",a),d.setAttribute("data-next-index","0")),t.appendChild(d)}if(i&&(A=parseInt(o.element.getAttribute("data-next-index")),o.element.setAttribute("data-next-index",A+1)),o.element.styleSheet)o.parts.push(s),o.element.styleSheet.cssText=o.parts.filter(Boolean).join("\n");else{var l=document.createTextNode(s),u=o.element.childNodes;u[A]&&o.element.removeChild(u[A]),u.length?o.element.insertBefore(l,u[A]):o.element.appendChild(l)}}}}})},props:{width:Number,height:Number,type:{type:String,default:"free"},dataSource:Array,editor:Object},data:function(){return{}},computed:{style:function(){return{width:0===this.width?"auto":"".concat(this.width,"px"),height:0===this.height?"auto":"".concat(this.height,"px")}}},created:function(){},methods:{handleDragOver:function(e){},handleDragEnd:function(e){console.log(e)},handleDrop:function(e){var t=e.dataTransfer.getData("vm-modules"),n=this.$parent.$options.modules[t];if(n){var i=this.$el.getBoundingClientRect(),r=i.x,a=i.y,o=e.pageX||e.clientX+doc.scrollLeft,A=e.pageY||e.clientY+doc.scrollTop,d=p(),l=this.dataSource.length;this.dataSource.push(s({},n.data,{module:t,id:d,x:o-r,y:A-a})),this.$emit("change",{type:"create",index:l,id:d}),this.setActived(l)}},handleEnd:function(e,t,n){this.$emit("change",{type:"update",id:t,index:n,old:e})},setActived:function(e){var t=this;this.$nextTick(function(){try{t.$refs.draggable[e].setActived()}catch(e){console.error(e)}})}}},V=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticStyle:{position:"relative"},style:e.style,on:{dragover:function(t){return t.preventDefault(),e.handleDragOver(t)},dragend:e.handleDragEnd,drop:e.handleDrop}},[n("vm-grid-lines",{attrs:{width:e.width,height:e.height,grid:[10,10]}}),e._v(" "),n("vm-align-lines",{attrs:{"data-source":e.dataSource,editor:e.editor}}),e._v(" "),e._l(e.dataSource,function(t,i){return n("vm-draggable",{key:t.id,ref:"draggable",refInFor:!0,attrs:{x:t.x,y:t.y,z:t.z,w:t.w,h:t.h,r:t.r,parent:t.parent,disable:t.disable,handles:t.handles,minw:t.minw,minh:t.minh,zoom:t.zoom,grid:t.grid,restrain:t.restrain},on:{"update:x":function(n){e.$set(t,"x",n)},"update:y":function(n){e.$set(t,"y",n)},"update:z":function(n){e.$set(t,"z",n)},"update:w":function(n){e.$set(t,"w",n)},"update:h":function(n){e.$set(t,"h",n)},"update:r":function(n){e.$set(t,"r",n)},activated:function(n){e.$emit("activated",t)},deactivated:function(n){e.$emit("deactivated",t)},dragging:function(n){e.$emit("dragging",t)},resizing:function(n){e.$emit("resizing",t)},rotating:function(n){e.$emit("rotating",t)},"resize-end":function(n){e.$emit("resize-end",t)},"drag-end":function(n){e.$emit("drag-end",t)},end:function(n){e.handleEnd(arguments[0],t.id,i)}}},[n("vm-"+t.module+"-viewer",e._b({tag:"component"},"component",t,!1))],1)})],2)};V._withStripped=!0;var G=function(e,t,n,i,r,a,o,s){var A,d=("function"==typeof n?n.options:n)||{};if(d.__file="/Users/deot/Desktop/wya/github/wya-vm/src/combo/frame/frame.vue",d.render||(d.render=e.render,d.staticRenderFns=e.staticRenderFns,d._compiled=!0,r&&(d.functional=!0)),d._scopeId=i,t&&(A=function(e){t.call(this,o(e))}),void 0!==A)if(d.functional){var l=d.render;d.render=function(e,t){return A.call(t),l(e,t)}}else{var u=d.beforeCreate;d.beforeCreate=u?[].concat(u,A):[A]}return d}({render:V,staticRenderFns:[]},function(e){e&&e("data-v-5b1372f7_0",{source:"\n/*# sourceMappingURL=frame.vue.map */",map:{version:3,sources:["frame.vue"],names:[],mappings:";AACA,qCAAqC",file:"frame.vue"},media:void 0})},H,"data-v-5b1372f7",!1,0,function e(){var t=document.head||document.getElementsByTagName("head")[0],n=e.styles||(e.styles={}),i="undefined"!=typeof navigator&&/msie [6-9]\\b/.test(navigator.userAgent.toLowerCase());return function(e,r){if(!document.querySelector('style[data-vue-ssr-id~="'+e+'"]')){var a=i?r.media||"default":e,o=n[a]||(n[a]={ids:[],parts:[],element:void 0});if(!o.ids.includes(e)){var s=r.source,A=o.ids.length;if(o.ids.push(e),i&&(o.element=o.element||document.querySelector("style[data-group="+a+"]")),!o.element){var d=o.element=document.createElement("style");d.type="text/css",r.media&&d.setAttribute("media",r.media),i&&(d.setAttribute("data-group",a),d.setAttribute("data-next-index","0")),t.appendChild(d)}if(i&&(A=parseInt(o.element.getAttribute("data-next-index")),o.element.setAttribute("data-next-index",A+1)),o.element.styleSheet)o.parts.push(s),o.element.styleSheet.cssText=o.parts.filter(Boolean).join("\n");else{var l=document.createTextNode(s),u=o.element.childNodes;u[A]&&o.element.removeChild(u[A]),u.length?o.element.insertBefore(l,u[A]):o.element.appendChild(l)}}}}}),K={name:"vm-tools-widget",components:{},props:{width:Number,height:Number,type:{type:String,default:"free"},dataSource:Array},data:function(){var e=this.$parent.$options.modules,t={};for(var n in e)if(u(e,n)){var i=e[n],r=i.type||"undefined";t[r]||(t[r]=[]),t[r].push({module:i.module,component:i.Widget||i.name})}return{toolsList:t}},computed:{style:function(){return{width:0===this.width?"auto":"".concat(this.width,"px"),height:0===this.height?"auto":"".concat(this.height,"px")}}},created:function(){},methods:{handleStart:function(e,t){e.dataTransfer.setData("vm-modules",t)}}},Z=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"vm-tools-widget",style:e.style},e._l(e.toolsList,function(t,i){return n("div",{key:i},["undefined"!==i?n("div",{staticClass:"__title"},[e._v("\n\t\t\t"+e._s(i)+"\t\t\n\t\t")]):e._e(),e._v(" "),e._l(t,function(t){return n("div",{key:t.module,staticClass:"__item",attrs:{draggable:""},on:{dragstart:function(n){e.handleStart(n,t.module)}}},["string"==typeof t.component?n("span",[e._v(e._s(t.component))]):n("vm-"+t.module+"-widget",{tag:"component"})],1)})],2)}))};Z._withStripped=!0;var J=function(e,t,n,i,r,a,o,s){var A,d=("function"==typeof n?n.options:n)||{};if(d.__file="/Users/deot/Desktop/wya/github/wya-vm/src/combo/tools/widget.vue",d.render||(d.render=e.render,d.staticRenderFns=e.staticRenderFns,d._compiled=!0,r&&(d.functional=!0)),d._scopeId=i,t&&(A=function(e){t.call(this,o(e))}),void 0!==A)if(d.functional){var l=d.render;d.render=function(e,t){return A.call(t),l(e,t)}}else{var u=d.beforeCreate;d.beforeCreate=u?[].concat(u,A):[A]}return d}({render:Z,staticRenderFns:[]},function(e){e&&e("data-v-74d768f9_0",{source:"\n.vm-tools-widget[data-v-74d768f9] {\n  width: 400px;\n}\n.vm-tools-widget .__title[data-v-74d768f9] {\n    padding: 15px;\n    font-size: 18px;\n}\n.vm-tools-widget .__item[data-v-74d768f9] {\n    display: inline-block;\n    border: 1px solid gray;\n    background-color: white;\n    line-height: 30px;\n    text-align: center;\n    width: 70px;\n    margin: 0 15px 15px 15px;\n    cursor: move;\n    border-radius: 3px;\n}\n\n/*# sourceMappingURL=widget.vue.map */",map:{version:3,sources:["/Users/deot/Desktop/wya/github/wya-vm/src/combo/tools/widget.vue","widget.vue"],names:[],mappings:";AA+EA;EACA,aAAA;CAgBA;AAjBA;IAGA,cAAA;IACA,gBAAA;CACA;AALA;IAOA,sBAAA;IACA,uBAAA;IACA,wBAAA;IACA,kBAAA;IACA,mBAAA;IACA,YAAA;IACA,yBAAA;IACA,aAAA;IACA,mBAAA;CACA;;AC/EA,sCAAsC",file:"widget.vue",sourcesContent:[null,".vm-tools-widget {\n  width: 400px; }\n  .vm-tools-widget .__title {\n    padding: 15px;\n    font-size: 18px; }\n  .vm-tools-widget .__item {\n    display: inline-block;\n    border: 1px solid gray;\n    background-color: white;\n    line-height: 30px;\n    text-align: center;\n    width: 70px;\n    margin: 0 15px 15px 15px;\n    cursor: move;\n    border-radius: 3px; }\n\n/*# sourceMappingURL=widget.vue.map */"]},media:void 0})},K,"data-v-74d768f9",!1,0,function e(){var t=document.head||document.getElementsByTagName("head")[0],n=e.styles||(e.styles={}),i="undefined"!=typeof navigator&&/msie [6-9]\\b/.test(navigator.userAgent.toLowerCase());return function(e,r){if(!document.querySelector('style[data-vue-ssr-id~="'+e+'"]')){var a=i?r.media||"default":e,o=n[a]||(n[a]={ids:[],parts:[],element:void 0});if(!o.ids.includes(e)){var s=r.source,A=o.ids.length;if(o.ids.push(e),i&&(o.element=o.element||document.querySelector("style[data-group="+a+"]")),!o.element){var d=o.element=document.createElement("style");d.type="text/css",r.media&&d.setAttribute("media",r.media),i&&(d.setAttribute("data-group",a),d.setAttribute("data-next-index","0")),t.appendChild(d)}if(i&&(A=parseInt(o.element.getAttribute("data-next-index")),o.element.setAttribute("data-next-index",A+1)),o.element.styleSheet)o.parts.push(s),o.element.styleSheet.cssText=o.parts.filter(Boolean).join("\n");else{var l=document.createTextNode(s),u=o.element.childNodes;u[A]&&o.element.removeChild(u[A]),u.length?o.element.insertBefore(l,u[A]):o.element.appendChild(l)}}}}}),ee={name:"vm-editor",components:{},props:{dataSource:Object},data:function(){return{}},computed:{},created:function(){},methods:{handleChange:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if("object"===a(t))for(var n in t){var i=t[n];["x","y","z","r","w","h"].includes(n)&&(i=Number(i)),u(t,n)&&(e=i)==e&&(this.$emit("change",{type:"update",id:this.dataSource.id,old:o({},n,i)}),this.$refs.target.$emit("update:".concat(n),i))}}}},te=function(){var e=this.$createElement;return(this._self._c||e)("vm-"+this.dataSource.module+"-editor",this._b({ref:"target",tag:"component",attrs:{id:"vm-editor"},on:{change:this.handleChange}},"component",this.dataSource,!1,!0))};te._withStripped=!0;var ne=function(e,t,n,i,r,a,o,s){var A,d=("function"==typeof n?n.options:n)||{};if(d.__file="/Users/deot/Desktop/wya/github/wya-vm/src/combo/editor/editor.vue",d.render||(d.render=e.render,d.staticRenderFns=e.staticRenderFns,d._compiled=!0,r&&(d.functional=!0)),d._scopeId=i,t&&(A=function(e){t.call(this,o(e))}),void 0!==A)if(d.functional){var l=d.render;d.render=function(e,t){return A.call(t),l(e,t)}}else{var u=d.beforeCreate;d.beforeCreate=u?[].concat(u,A):[A]}return d}({render:te,staticRenderFns:[]},function(e){e&&e("data-v-2b0e638e_0",{source:"\n/*# sourceMappingURL=editor.vue.map */",map:{version:3,sources:["editor.vue"],names:[],mappings:";AACA,sCAAsC",file:"editor.vue"},media:void 0})},ee,"data-v-2b0e638e",!1,0,function e(){var t=document.head||document.getElementsByTagName("head")[0],n=e.styles||(e.styles={}),i="undefined"!=typeof navigator&&/msie [6-9]\\b/.test(navigator.userAgent.toLowerCase());return function(e,r){if(!document.querySelector('style[data-vue-ssr-id~="'+e+'"]')){var a=i?r.media||"default":e,o=n[a]||(n[a]={ids:[],parts:[],element:void 0});if(!o.ids.includes(e)){var s=r.source,A=o.ids.length;if(o.ids.push(e),i&&(o.element=o.element||document.querySelector("style[data-group="+a+"]")),!o.element){var d=o.element=document.createElement("style");d.type="text/css",r.media&&d.setAttribute("media",r.media),i&&(d.setAttribute("data-group",a),d.setAttribute("data-next-index","0")),t.appendChild(d)}if(i&&(A=parseInt(o.element.getAttribute("data-next-index")),o.element.setAttribute("data-next-index",A+1)),o.element.styleSheet)o.parts.push(s),o.element.styleSheet.cssText=o.parts.filter(Boolean).join("\n");else{var l=document.createTextNode(s),u=o.element.childNodes;u[A]&&o.element.removeChild(u[A]),u.length?o.element.insertBefore(l,u[A]):o.element.appendChild(l)}}}}});t.Draggable=C,t.vmRegister=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:I,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};try{var n=c(t.Combo||q),i=c(t.Frame||G),r=c(t.ToolsWidget||J),a=c(t.ToolsPreview||j),o=c(t.Editor||ne),A={},d={},l={};return Object.keys(e).forEach(function(t,n){var i=e[t],r=i.Viewer,a=i.Editor,o=i.Widget;A["vm-".concat(t,"-viewer")]=r,d["vm-".concat(t,"-editor")]=a,l["vm-".concat(t,"-widget")]=o}),n.modules=e,n.viewers=A,n.editors=d,i.components=s({},i.components,A),o.components=s({},o.components,d),r.components=s({},r.components,l),n.components=s({},n.components,{"vm-frame":i,"vm-editor":o,"vm-tools-widget":r}),a.components=s({},a.components,A),{Combo:c(n),Preview:c(a)}}catch(e){throw console.error("[wya-vm/register]",e),new Error(e)}}}}]);